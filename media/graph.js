



/*
Copyright (c) 2007, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.3.1
*/

// YAHOO-Dom-Event:

if(typeof YAHOO=="undefined"){var YAHOO={};}YAHOO.namespace=function(){var A=arguments,E=null,C,B,D;for(C=0;C<A.length;C=C+1){D=A[C].split(".");E=YAHOO;for(B=(D[0]=="YAHOO")?1:0;B<D.length;B=B+1){E[D[B]]=E[D[B]]||{};E=E[D[B]];}}return E;};YAHOO.log=function(D,A,C){var B=YAHOO.widget.Logger;if(B&&B.log){return B.log(D,A,C);}else{return false;}};YAHOO.register=function(A,E,D){var I=YAHOO.env.modules;if(!I[A]){I[A]={versions:[],builds:[]};}var B=I[A],H=D.version,G=D.build,F=YAHOO.env.listeners;B.name=A;B.version=H;B.build=G;B.versions.push(H);B.builds.push(G);B.mainClass=E;for(var C=0;C<F.length;C=C+1){F[C](B);}if(E){E.VERSION=H;E.BUILD=G;}else{YAHOO.log("mainClass is undefined for module "+A,"warn");}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(A){return YAHOO.env.modules[A]||null;};YAHOO.env.ua=function(){var C={ie:0,opera:0,gecko:0,webkit:0};var B=navigator.userAgent,A;if((/KHTML/).test(B)){C.webkit=1;}A=B.match(/AppleWebKit\/([^\s]*)/);if(A&&A[1]){C.webkit=parseFloat(A[1]);}if(!C.webkit){A=B.match(/Opera[\s\/]([^\s]*)/);if(A&&A[1]){C.opera=parseFloat(A[1]);}else{A=B.match(/MSIE\s([^;]*)/);if(A&&A[1]){C.ie=parseFloat(A[1]);}else{A=B.match(/Gecko\/([^\s]*)/);if(A){C.gecko=1;A=B.match(/rv:([^\s\)]*)/);if(A&&A[1]){C.gecko=parseFloat(A[1]);}}}}}return C;}();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var B=YAHOO_config.listener,A=YAHOO.env.listeners,D=true,C;if(B){for(C=0;C<A.length;C=C+1){if(A[C]==B){D=false;break;}}if(D){A.push(B);}}}})();YAHOO.lang={isArray:function(B){if(B){var A=YAHOO.lang;return A.isNumber(B.length)&&A.isFunction(B.splice)&&!A.hasOwnProperty(B.length);}return false;},isBoolean:function(A){return typeof A==="boolean";},isFunction:function(A){return typeof A==="function";},isNull:function(A){return A===null;},isNumber:function(A){return typeof A==="number"&&isFinite(A);},isObject:function(A){return(A&&(typeof A==="object"||YAHOO.lang.isFunction(A)))||false;},isString:function(A){return typeof A==="string";},isUndefined:function(A){return typeof A==="undefined";},hasOwnProperty:function(A,B){if(Object.prototype.hasOwnProperty){return A.hasOwnProperty(B);}return !YAHOO.lang.isUndefined(A[B])&&A.constructor.prototype[B]!==A[B];},_IEEnumFix:function(C,B){if(YAHOO.env.ua.ie){var E=["toString","valueOf"],A;for(A=0;A<E.length;A=A+1){var F=E[A],D=B[F];if(YAHOO.lang.isFunction(D)&&D!=Object.prototype[F]){C[F]=D;}}}},extend:function(D,E,C){if(!E||!D){throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");}var B=function(){};B.prototype=E.prototype;D.prototype=new B();D.prototype.constructor=D;D.superclass=E.prototype;if(E.prototype.constructor==Object.prototype.constructor){E.prototype.constructor=E;}if(C){for(var A in C){D.prototype[A]=C[A];}YAHOO.lang._IEEnumFix(D.prototype,C);}},augmentObject:function(E,D){if(!D||!E){throw new Error("Absorb failed, verify dependencies.");}var A=arguments,C,F,B=A[2];if(B&&B!==true){for(C=2;C<A.length;C=C+1){E[A[C]]=D[A[C]];}}else{for(F in D){if(B||!E[F]){E[F]=D[F];}}YAHOO.lang._IEEnumFix(E,D);}},augmentProto:function(D,C){if(!C||!D){throw new Error("Augment failed, verify dependencies.");}var A=[D.prototype,C.prototype];for(var B=2;B<arguments.length;B=B+1){A.push(arguments[B]);}YAHOO.lang.augmentObject.apply(this,A);},dump:function(A,G){var C=YAHOO.lang,D,F,I=[],J="{...}",B="f(){...}",H=", ",E=" => ";if(!C.isObject(A)){return A+"";}else{if(A instanceof Date||("nodeType" in A&&"tagName" in A)){return A;}else{if(C.isFunction(A)){return B;}}}G=(C.isNumber(G))?G:3;if(C.isArray(A)){I.push("[");for(D=0,F=A.length;D<F;D=D+1){if(C.isObject(A[D])){I.push((G>0)?C.dump(A[D],G-1):J);}else{I.push(A[D]);}I.push(H);}if(I.length>1){I.pop();}I.push("]");}else{I.push("{");for(D in A){if(C.hasOwnProperty(A,D)){I.push(D+E);if(C.isObject(A[D])){I.push((G>0)?C.dump(A[D],G-1):J);}else{I.push(A[D]);}I.push(H);}}if(I.length>1){I.pop();}I.push("}");}return I.join("");},substitute:function(Q,B,J){var G,F,E,M,N,P,D=YAHOO.lang,L=[],C,H="dump",K=" ",A="{",O="}";for(;;){G=Q.lastIndexOf(A);if(G<0){break;}F=Q.indexOf(O,G);if(G+1>=F){break;}C=Q.substring(G+1,F);M=C;P=null;E=M.indexOf(K);if(E>-1){P=M.substring(E+1);M=M.substring(0,E);}N=B[M];if(J){N=J(M,N,P);}if(D.isObject(N)){if(D.isArray(N)){N=D.dump(N,parseInt(P,10));}else{P=P||"";var I=P.indexOf(H);if(I>-1){P=P.substring(4);}if(N.toString===Object.prototype.toString||I>-1){N=D.dump(N,parseInt(P,10));}else{N=N.toString();}}}else{if(!D.isString(N)&&!D.isNumber(N)){N="~-"+L.length+"-~";L[L.length]=C;}}Q=Q.substring(0,G)+N+Q.substring(F+1);}for(G=L.length-1;G>=0;G=G-1){Q=Q.replace(new RegExp("~-"+G+"-~"),"{"+L[G]+"}","g");}return Q;},trim:function(A){try{return A.replace(/^\s+|\s+$/g,"");}catch(B){return A;}},merge:function(){var C={},A=arguments,B;for(B=0;B<A.length;B=B+1){YAHOO.lang.augmentObject(C,A[B],true);}return C;},isValue:function(B){var A=YAHOO.lang;return(A.isObject(B)||A.isString(B)||A.isNumber(B)||A.isBoolean(B));}};YAHOO.util.Lang=YAHOO.lang;YAHOO.lang.augment=YAHOO.lang.augmentProto;YAHOO.augment=YAHOO.lang.augmentProto;YAHOO.extend=YAHOO.lang.extend;YAHOO.register("yahoo",YAHOO,{version:"2.3.1",build:"541"});(function(){var B=YAHOO.util,K,I,H=0,J={},F={};var C=YAHOO.env.ua.opera,L=YAHOO.env.ua.webkit,A=YAHOO.env.ua.gecko,G=YAHOO.env.ua.ie;var E={HYPHEN:/(-[a-z])/i,ROOT_TAG:/^body|html$/i};var M=function(O){if(!E.HYPHEN.test(O)){return O;}if(J[O]){return J[O];}var P=O;while(E.HYPHEN.exec(P)){P=P.replace(RegExp.$1,RegExp.$1.substr(1).toUpperCase());}J[O]=P;return P;};var N=function(P){var O=F[P];if(!O){O=new RegExp("(?:^|\\s+)"+P+"(?:\\s+|$)");F[P]=O;}return O;};if(document.defaultView&&document.defaultView.getComputedStyle){K=function(O,R){var Q=null;if(R=="float"){R="cssFloat";}var P=document.defaultView.getComputedStyle(O,"");if(P){Q=P[M(R)];}return O.style[R]||Q;};}else{if(document.documentElement.currentStyle&&G){K=function(O,Q){switch(M(Q)){case"opacity":var S=100;try{S=O.filters["DXImageTransform.Microsoft.Alpha"].opacity;}catch(R){try{S=O.filters("alpha").opacity;}catch(R){}}return S/100;case"float":Q="styleFloat";default:var P=O.currentStyle?O.currentStyle[Q]:null;return(O.style[Q]||P);}};}else{K=function(O,P){return O.style[P];};}}if(G){I=function(O,P,Q){switch(P){case"opacity":if(YAHOO.lang.isString(O.style.filter)){O.style.filter="alpha(opacity="+Q*100+")";if(!O.currentStyle||!O.currentStyle.hasLayout){O.style.zoom=1;}}break;case"float":P="styleFloat";default:O.style[P]=Q;}};}else{I=function(O,P,Q){if(P=="float"){P="cssFloat";}O.style[P]=Q;};}var D=function(O,P){return O&&O.nodeType==1&&(!P||P(O));};YAHOO.util.Dom={get:function(Q){if(Q&&(Q.tagName||Q.item)){return Q;}if(YAHOO.lang.isString(Q)||!Q){return document.getElementById(Q);}if(Q.length!==undefined){var R=[];for(var P=0,O=Q.length;P<O;++P){R[R.length]=B.Dom.get(Q[P]);}return R;}return Q;},getStyle:function(O,Q){Q=M(Q);var P=function(R){return K(R,Q);};return B.Dom.batch(O,P,B.Dom,true);},setStyle:function(O,Q,R){Q=M(Q);var P=function(S){I(S,Q,R);};B.Dom.batch(O,P,B.Dom,true);},getXY:function(O){var P=function(R){if((R.parentNode===null||R.offsetParent===null||this.getStyle(R,"display")=="none")&&R!=document.body){return false;}var Q=null;var V=[];var S;var T=R.ownerDocument;if(R.getBoundingClientRect){S=R.getBoundingClientRect();return[S.left+B.Dom.getDocumentScrollLeft(R.ownerDocument),S.top+B.Dom.getDocumentScrollTop(R.ownerDocument)];}else{V=[R.offsetLeft,R.offsetTop];Q=R.offsetParent;var U=this.getStyle(R,"position")=="absolute";if(Q!=R){while(Q){V[0]+=Q.offsetLeft;V[1]+=Q.offsetTop;if(L&&!U&&this.getStyle(Q,"position")=="absolute"){U=true;}Q=Q.offsetParent;}}if(L&&U){V[0]-=R.ownerDocument.body.offsetLeft;V[1]-=R.ownerDocument.body.offsetTop;}}Q=R.parentNode;while(Q.tagName&&!E.ROOT_TAG.test(Q.tagName)){if(B.Dom.getStyle(Q,"display").search(/^inline|table-row.*$/i)){V[0]-=Q.scrollLeft;V[1]-=Q.scrollTop;}Q=Q.parentNode;}return V;};return B.Dom.batch(O,P,B.Dom,true);},getX:function(O){var P=function(Q){return B.Dom.getXY(Q)[0];};return B.Dom.batch(O,P,B.Dom,true);},getY:function(O){var P=function(Q){return B.Dom.getXY(Q)[1];};return B.Dom.batch(O,P,B.Dom,true);},setXY:function(O,R,Q){var P=function(U){var T=this.getStyle(U,"position");if(T=="static"){this.setStyle(U,"position","relative");T="relative";}var W=this.getXY(U);if(W===false){return false;}var V=[parseInt(this.getStyle(U,"left"),10),parseInt(this.getStyle(U,"top"),10)];if(isNaN(V[0])){V[0]=(T=="relative")?0:U.offsetLeft;}if(isNaN(V[1])){V[1]=(T=="relative")?0:U.offsetTop;}if(R[0]!==null){U.style.left=R[0]-W[0]+V[0]+"px";}if(R[1]!==null){U.style.top=R[1]-W[1]+V[1]+"px";}if(!Q){var S=this.getXY(U);if((R[0]!==null&&S[0]!=R[0])||(R[1]!==null&&S[1]!=R[1])){this.setXY(U,R,true);}}};B.Dom.batch(O,P,B.Dom,true);},setX:function(P,O){B.Dom.setXY(P,[O,null]);},setY:function(O,P){B.Dom.setXY(O,[null,P]);},getRegion:function(O){var P=function(Q){if((Q.parentNode===null||Q.offsetParent===null||this.getStyle(Q,"display")=="none")&&Q!=document.body){return false;}var R=B.Region.getRegion(Q);return R;};return B.Dom.batch(O,P,B.Dom,true);},getClientWidth:function(){return B.Dom.getViewportWidth();},getClientHeight:function(){return B.Dom.getViewportHeight();},getElementsByClassName:function(S,W,T,U){W=W||"*";T=(T)?B.Dom.get(T):null||document;if(!T){return[];}var P=[],O=T.getElementsByTagName(W),V=N(S);for(var Q=0,R=O.length;Q<R;++Q){if(V.test(O[Q].className)){P[P.length]=O[Q];if(U){U.call(O[Q],O[Q]);}}}return P;},hasClass:function(Q,P){var O=N(P);var R=function(S){return O.test(S.className);};return B.Dom.batch(Q,R,B.Dom,true);},addClass:function(P,O){var Q=function(R){if(this.hasClass(R,O)){return false;}R.className=YAHOO.lang.trim([R.className,O].join(" "));return true;};return B.Dom.batch(P,Q,B.Dom,true);},removeClass:function(Q,P){var O=N(P);var R=function(S){if(!this.hasClass(S,P)){return false;}var T=S.className;S.className=T.replace(O," ");if(this.hasClass(S,P)){this.removeClass(S,P);}S.className=YAHOO.lang.trim(S.className);return true;};return B.Dom.batch(Q,R,B.Dom,true);},replaceClass:function(R,P,O){if(!O||P===O){return false;}var Q=N(P);var S=function(T){if(!this.hasClass(T,P)){this.addClass(T,O);return true;}T.className=T.className.replace(Q," "+O+" ");if(this.hasClass(T,P)){this.replaceClass(T,P,O);}T.className=YAHOO.lang.trim(T.className);return true;};return B.Dom.batch(R,S,B.Dom,true);},generateId:function(O,Q){Q=Q||"yui-gen";var P=function(R){if(R&&R.id){return R.id;}var S=Q+H++;if(R){R.id=S;}return S;};return B.Dom.batch(O,P,B.Dom,true)||P.apply(B.Dom,arguments);},isAncestor:function(P,Q){P=B.Dom.get(P);if(!P||!Q){return false;}var O=function(R){if(P.contains&&R.nodeType&&!L){return P.contains(R);}else{if(P.compareDocumentPosition&&R.nodeType){return !!(P.compareDocumentPosition(R)&16);}else{if(R.nodeType){return !!this.getAncestorBy(R,function(S){return S==P;});}}}return false;};return B.Dom.batch(Q,O,B.Dom,true);},inDocument:function(O){var P=function(Q){if(L){while(Q=Q.parentNode){if(Q==document.documentElement){return true;}}return false;}return this.isAncestor(document.documentElement,Q);};return B.Dom.batch(O,P,B.Dom,true);},getElementsBy:function(V,P,Q,S){P=P||"*";
Q=(Q)?B.Dom.get(Q):null||document;if(!Q){return[];}var R=[],U=Q.getElementsByTagName(P);for(var T=0,O=U.length;T<O;++T){if(V(U[T])){R[R.length]=U[T];if(S){S(U[T]);}}}return R;},batch:function(S,V,U,Q){S=(S&&(S.tagName||S.item))?S:B.Dom.get(S);if(!S||!V){return false;}var R=(Q)?U:window;if(S.tagName||S.length===undefined){return V.call(R,S,U);}var T=[];for(var P=0,O=S.length;P<O;++P){T[T.length]=V.call(R,S[P],U);}return T;},getDocumentHeight:function(){var P=(document.compatMode!="CSS1Compat")?document.body.scrollHeight:document.documentElement.scrollHeight;var O=Math.max(P,B.Dom.getViewportHeight());return O;},getDocumentWidth:function(){var P=(document.compatMode!="CSS1Compat")?document.body.scrollWidth:document.documentElement.scrollWidth;var O=Math.max(P,B.Dom.getViewportWidth());return O;},getViewportHeight:function(){var O=self.innerHeight;var P=document.compatMode;if((P||G)&&!C){O=(P=="CSS1Compat")?document.documentElement.clientHeight:document.body.clientHeight;}return O;},getViewportWidth:function(){var O=self.innerWidth;var P=document.compatMode;if(P||G){O=(P=="CSS1Compat")?document.documentElement.clientWidth:document.body.clientWidth;}return O;},getAncestorBy:function(O,P){while(O=O.parentNode){if(D(O,P)){return O;}}return null;},getAncestorByClassName:function(P,O){P=B.Dom.get(P);if(!P){return null;}var Q=function(R){return B.Dom.hasClass(R,O);};return B.Dom.getAncestorBy(P,Q);},getAncestorByTagName:function(P,O){P=B.Dom.get(P);if(!P){return null;}var Q=function(R){return R.tagName&&R.tagName.toUpperCase()==O.toUpperCase();};return B.Dom.getAncestorBy(P,Q);},getPreviousSiblingBy:function(O,P){while(O){O=O.previousSibling;if(D(O,P)){return O;}}return null;},getPreviousSibling:function(O){O=B.Dom.get(O);if(!O){return null;}return B.Dom.getPreviousSiblingBy(O);},getNextSiblingBy:function(O,P){while(O){O=O.nextSibling;if(D(O,P)){return O;}}return null;},getNextSibling:function(O){O=B.Dom.get(O);if(!O){return null;}return B.Dom.getNextSiblingBy(O);},getFirstChildBy:function(O,Q){var P=(D(O.firstChild,Q))?O.firstChild:null;return P||B.Dom.getNextSiblingBy(O.firstChild,Q);},getFirstChild:function(O,P){O=B.Dom.get(O);if(!O){return null;}return B.Dom.getFirstChildBy(O);},getLastChildBy:function(O,Q){if(!O){return null;}var P=(D(O.lastChild,Q))?O.lastChild:null;return P||B.Dom.getPreviousSiblingBy(O.lastChild,Q);},getLastChild:function(O){O=B.Dom.get(O);return B.Dom.getLastChildBy(O);},getChildrenBy:function(P,R){var Q=B.Dom.getFirstChildBy(P,R);var O=Q?[Q]:[];B.Dom.getNextSiblingBy(Q,function(S){if(!R||R(S)){O[O.length]=S;}return false;});return O;},getChildren:function(O){O=B.Dom.get(O);if(!O){}return B.Dom.getChildrenBy(O);},getDocumentScrollLeft:function(O){O=O||document;return Math.max(O.documentElement.scrollLeft,O.body.scrollLeft);},getDocumentScrollTop:function(O){O=O||document;return Math.max(O.documentElement.scrollTop,O.body.scrollTop);},insertBefore:function(P,O){P=B.Dom.get(P);O=B.Dom.get(O);if(!P||!O||!O.parentNode){return null;}return O.parentNode.insertBefore(P,O);},insertAfter:function(P,O){P=B.Dom.get(P);O=B.Dom.get(O);if(!P||!O||!O.parentNode){return null;}if(O.nextSibling){return O.parentNode.insertBefore(P,O.nextSibling);}else{return O.parentNode.appendChild(P);}}};})();YAHOO.util.Region=function(C,D,A,B){this.top=C;this[1]=C;this.right=D;this.bottom=A;this.left=B;this[0]=B;};YAHOO.util.Region.prototype.contains=function(A){return(A.left>=this.left&&A.right<=this.right&&A.top>=this.top&&A.bottom<=this.bottom);};YAHOO.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left));};YAHOO.util.Region.prototype.intersect=function(E){var C=Math.max(this.top,E.top);var D=Math.min(this.right,E.right);var A=Math.min(this.bottom,E.bottom);var B=Math.max(this.left,E.left);if(A>=C&&D>=B){return new YAHOO.util.Region(C,D,A,B);}else{return null;}};YAHOO.util.Region.prototype.union=function(E){var C=Math.min(this.top,E.top);var D=Math.max(this.right,E.right);var A=Math.max(this.bottom,E.bottom);var B=Math.min(this.left,E.left);return new YAHOO.util.Region(C,D,A,B);};YAHOO.util.Region.prototype.toString=function(){return("Region {top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+"}");};YAHOO.util.Region.getRegion=function(D){var F=YAHOO.util.Dom.getXY(D);var C=F[1];var E=F[0]+D.offsetWidth;var A=F[1]+D.offsetHeight;var B=F[0];return new YAHOO.util.Region(C,E,A,B);};YAHOO.util.Point=function(A,B){if(YAHOO.lang.isArray(A)){B=A[1];A=A[0];}this.x=this.right=this.left=this[0]=A;this.y=this.top=this.bottom=this[1]=B;};YAHOO.util.Point.prototype=new YAHOO.util.Region();YAHOO.register("dom",YAHOO.util.Dom,{version:"2.3.1",build:"541"});YAHOO.util.CustomEvent=function(D,B,C,A){this.type=D;this.scope=B||window;this.silent=C;this.signature=A||YAHOO.util.CustomEvent.LIST;this.subscribers=[];if(!this.silent){}var E="_YUICEOnSubscribe";if(D!==E){this.subscribeEvent=new YAHOO.util.CustomEvent(E,this,true);}this.lastError=null;};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:function(B,C,A){if(!B){throw new Error("Invalid callback for subscriber to '"+this.type+"'");}if(this.subscribeEvent){this.subscribeEvent.fire(B,C,A);}this.subscribers.push(new YAHOO.util.Subscriber(B,C,A));},unsubscribe:function(D,F){if(!D){return this.unsubscribeAll();}var E=false;for(var B=0,A=this.subscribers.length;B<A;++B){var C=this.subscribers[B];if(C&&C.contains(D,F)){this._delete(B);E=true;}}return E;},fire:function(){var E=this.subscribers.length;if(!E&&this.silent){return true;}var H=[],G=true,D,I=false;for(D=0;D<arguments.length;++D){H.push(arguments[D]);}var A=H.length;if(!this.silent){}for(D=0;D<E;++D){var L=this.subscribers[D];if(!L){I=true;}else{if(!this.silent){}var K=L.getScope(this.scope);if(this.signature==YAHOO.util.CustomEvent.FLAT){var B=null;if(H.length>0){B=H[0];}try{G=L.fn.call(K,B,L.obj);}catch(F){this.lastError=F;}}else{try{G=L.fn.call(K,this.type,H,L.obj);}catch(F){this.lastError=F;}}if(false===G){if(!this.silent){}return false;}}}if(I){var J=[],C=this.subscribers;for(D=0,E=C.length;D<E;D=D+1){J.push(C[D]);}this.subscribers=J;}return true;},unsubscribeAll:function(){for(var B=0,A=this.subscribers.length;B<A;++B){this._delete(A-1-B);}this.subscribers=[];return B;},_delete:function(A){var B=this.subscribers[A];if(B){delete B.fn;delete B.obj;}this.subscribers[A]=null;},toString:function(){return"CustomEvent: '"+this.type+"', scope: "+this.scope;}};YAHOO.util.Subscriber=function(B,C,A){this.fn=B;this.obj=YAHOO.lang.isUndefined(C)?null:C;this.override=A;};YAHOO.util.Subscriber.prototype.getScope=function(A){if(this.override){if(this.override===true){return this.obj;}else{return this.override;}}return A;};YAHOO.util.Subscriber.prototype.contains=function(A,B){if(B){return(this.fn==A&&this.obj==B);}else{return(this.fn==A);}};YAHOO.util.Subscriber.prototype.toString=function(){return"Subscriber { obj: "+this.obj+", override: "+(this.override||"no")+" }";};if(!YAHOO.util.Event){YAHOO.util.Event=function(){var H=false;var J=false;var I=[];var K=[];var G=[];var E=[];var C=0;var F=[];var B=[];var A=0;var D={63232:38,63233:40,63234:37,63235:39};return{POLL_RETRYS:4000,POLL_INTERVAL:10,EL:0,TYPE:1,FN:2,WFN:3,UNLOAD_OBJ:3,ADJ_SCOPE:4,OBJ:5,OVERRIDE:6,lastError:null,isSafari:YAHOO.env.ua.webkit,webkit:YAHOO.env.ua.webkit,isIE:YAHOO.env.ua.ie,_interval:null,startInterval:function(){if(!this._interval){var L=this;var M=function(){L._tryPreloadAttach();};this._interval=setInterval(M,this.POLL_INTERVAL);}},onAvailable:function(N,L,O,M){F.push({id:N,fn:L,obj:O,override:M,checkReady:false});C=this.POLL_RETRYS;this.startInterval();},onDOMReady:function(L,N,M){if(J){setTimeout(function(){var O=window;if(M){if(M===true){O=N;}else{O=M;}}L.call(O,"DOMReady",[],N);},0);}else{this.DOMReadyEvent.subscribe(L,N,M);}},onContentReady:function(N,L,O,M){F.push({id:N,fn:L,obj:O,override:M,checkReady:true});C=this.POLL_RETRYS;this.startInterval();},addListener:function(N,L,W,R,M){if(!W||!W.call){return false;}if(this._isValidCollection(N)){var X=true;for(var S=0,U=N.length;S<U;++S){X=this.on(N[S],L,W,R,M)&&X;}return X;}else{if(YAHOO.lang.isString(N)){var Q=this.getEl(N);if(Q){N=Q;}else{this.onAvailable(N,function(){YAHOO.util.Event.on(N,L,W,R,M);});return true;}}}if(!N){return false;}if("unload"==L&&R!==this){K[K.length]=[N,L,W,R,M];return true;}var Z=N;if(M){if(M===true){Z=R;}else{Z=M;}}var O=function(a){return W.call(Z,YAHOO.util.Event.getEvent(a,N),R);};var Y=[N,L,W,O,Z,R,M];var T=I.length;I[T]=Y;if(this.useLegacyEvent(N,L)){var P=this.getLegacyIndex(N,L);if(P==-1||N!=G[P][0]){P=G.length;B[N.id+L]=P;G[P]=[N,L,N["on"+L]];E[P]=[];N["on"+L]=function(a){YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(a),P);};}E[P].push(Y);}else{try{this._simpleAdd(N,L,O,false);}catch(V){this.lastError=V;this.removeListener(N,L,W);return false;}}return true;},fireLegacyEvent:function(P,N){var R=true,L,T,S,U,Q;T=E[N];for(var M=0,O=T.length;M<O;++M){S=T[M];if(S&&S[this.WFN]){U=S[this.ADJ_SCOPE];Q=S[this.WFN].call(U,P);R=(R&&Q);}}L=G[N];if(L&&L[2]){L[2](P);}return R;},getLegacyIndex:function(M,N){var L=this.generateId(M)+N;if(typeof B[L]=="undefined"){return -1;}else{return B[L];}},useLegacyEvent:function(M,N){if(this.webkit&&("click"==N||"dblclick"==N)){var L=parseInt(this.webkit,10);if(!isNaN(L)&&L<418){return true;}}return false;},removeListener:function(M,L,U){var P,S,W;if(typeof M=="string"){M=this.getEl(M);}else{if(this._isValidCollection(M)){var V=true;for(P=0,S=M.length;P<S;++P){V=(this.removeListener(M[P],L,U)&&V);}return V;}}if(!U||!U.call){return this.purgeElement(M,false,L);}if("unload"==L){for(P=0,S=K.length;P<S;P++){W=K[P];if(W&&W[0]==M&&W[1]==L&&W[2]==U){K[P]=null;return true;}}return false;}var Q=null;var R=arguments[3];if("undefined"===typeof R){R=this._getCacheIndex(M,L,U);}if(R>=0){Q=I[R];}if(!M||!Q){return false;}if(this.useLegacyEvent(M,L)){var O=this.getLegacyIndex(M,L);var N=E[O];if(N){for(P=0,S=N.length;P<S;++P){W=N[P];if(W&&W[this.EL]==M&&W[this.TYPE]==L&&W[this.FN]==U){N[P]=null;break;}}}}else{try{this._simpleRemove(M,L,Q[this.WFN],false);}catch(T){this.lastError=T;return false;}}delete I[R][this.WFN];delete I[R][this.FN];I[R]=null;return true;},getTarget:function(N,M){var L=N.target||N.srcElement;return this.resolveTextNode(L);},resolveTextNode:function(L){if(L&&3==L.nodeType){return L.parentNode;}else{return L;}},getPageX:function(M){var L=M.pageX;if(!L&&0!==L){L=M.clientX||0;if(this.isIE){L+=this._getScrollLeft();}}return L;},getPageY:function(L){var M=L.pageY;if(!M&&0!==M){M=L.clientY||0;if(this.isIE){M+=this._getScrollTop();}}return M;},getXY:function(L){return[this.getPageX(L),this.getPageY(L)];
},getRelatedTarget:function(M){var L=M.relatedTarget;if(!L){if(M.type=="mouseout"){L=M.toElement;}else{if(M.type=="mouseover"){L=M.fromElement;}}}return this.resolveTextNode(L);},getTime:function(N){if(!N.time){var M=new Date().getTime();try{N.time=M;}catch(L){this.lastError=L;return M;}}return N.time;},stopEvent:function(L){this.stopPropagation(L);this.preventDefault(L);},stopPropagation:function(L){if(L.stopPropagation){L.stopPropagation();}else{L.cancelBubble=true;}},preventDefault:function(L){if(L.preventDefault){L.preventDefault();}else{L.returnValue=false;}},getEvent:function(Q,O){var P=Q||window.event;if(!P){var R=this.getEvent.caller;while(R){P=R.arguments[0];if(P&&Event==P.constructor){break;}R=R.caller;}}if(P&&this.isIE){try{var N=P.srcElement;if(N){var M=N.type;}}catch(L){P.target=O;}}return P;},getCharCode:function(M){var L=M.keyCode||M.charCode||0;if(YAHOO.env.ua.webkit&&(L in D)){L=D[L];}return L;},_getCacheIndex:function(P,Q,O){for(var N=0,M=I.length;N<M;++N){var L=I[N];if(L&&L[this.FN]==O&&L[this.EL]==P&&L[this.TYPE]==Q){return N;}}return -1;},generateId:function(L){var M=L.id;if(!M){M="yuievtautoid-"+A;++A;L.id=M;}return M;},_isValidCollection:function(M){try{return(typeof M!=="string"&&M.length&&!M.tagName&&!M.alert&&typeof M[0]!=="undefined");}catch(L){return false;}},elCache:{},getEl:function(L){return(typeof L==="string")?document.getElementById(L):L;},clearCache:function(){},DOMReadyEvent:new YAHOO.util.CustomEvent("DOMReady",this),_load:function(M){if(!H){H=true;var L=YAHOO.util.Event;L._ready();L._tryPreloadAttach();}},_ready:function(M){if(!J){J=true;var L=YAHOO.util.Event;L.DOMReadyEvent.fire();L._simpleRemove(document,"DOMContentLoaded",L._ready);}},_tryPreloadAttach:function(){if(this.locked){return false;}if(this.isIE){if(!J){this.startInterval();return false;}}this.locked=true;var Q=!H;if(!Q){Q=(C>0);}var P=[];var R=function(T,U){var S=T;if(U.override){if(U.override===true){S=U.obj;}else{S=U.override;}}U.fn.call(S,U.obj);};var M,L,O,N;for(M=0,L=F.length;M<L;++M){O=F[M];if(O&&!O.checkReady){N=this.getEl(O.id);if(N){R(N,O);F[M]=null;}else{P.push(O);}}}for(M=0,L=F.length;M<L;++M){O=F[M];if(O&&O.checkReady){N=this.getEl(O.id);if(N){if(H||N.nextSibling){R(N,O);F[M]=null;}}else{P.push(O);}}}C=(P.length===0)?0:C-1;if(Q){this.startInterval();}else{clearInterval(this._interval);this._interval=null;}this.locked=false;return true;},purgeElement:function(O,P,R){var Q=this.getListeners(O,R),N,L;if(Q){for(N=0,L=Q.length;N<L;++N){var M=Q[N];this.removeListener(O,M.type,M.fn,M.index);}}if(P&&O&&O.childNodes){for(N=0,L=O.childNodes.length;N<L;++N){this.purgeElement(O.childNodes[N],P,R);}}},getListeners:function(N,L){var Q=[],M;if(!L){M=[I,K];}else{if(L=="unload"){M=[K];}else{M=[I];}}for(var P=0;P<M.length;P=P+1){var T=M[P];if(T&&T.length>0){for(var R=0,S=T.length;R<S;++R){var O=T[R];if(O&&O[this.EL]===N&&(!L||L===O[this.TYPE])){Q.push({type:O[this.TYPE],fn:O[this.FN],obj:O[this.OBJ],adjust:O[this.OVERRIDE],scope:O[this.ADJ_SCOPE],index:R});}}}}return(Q.length)?Q:null;},_unload:function(S){var R=YAHOO.util.Event,P,O,M,L,N;for(P=0,L=K.length;P<L;++P){M=K[P];if(M){var Q=window;if(M[R.ADJ_SCOPE]){if(M[R.ADJ_SCOPE]===true){Q=M[R.UNLOAD_OBJ];}else{Q=M[R.ADJ_SCOPE];}}M[R.FN].call(Q,R.getEvent(S,M[R.EL]),M[R.UNLOAD_OBJ]);K[P]=null;M=null;Q=null;}}K=null;if(I&&I.length>0){O=I.length;while(O){N=O-1;M=I[N];if(M){R.removeListener(M[R.EL],M[R.TYPE],M[R.FN],N);}O=O-1;}M=null;R.clearCache();}for(P=0,L=G.length;P<L;++P){G[P][0]=null;G[P]=null;}G=null;R._simpleRemove(window,"unload",R._unload);},_getScrollLeft:function(){return this._getScroll()[1];},_getScrollTop:function(){return this._getScroll()[0];},_getScroll:function(){var L=document.documentElement,M=document.body;if(L&&(L.scrollTop||L.scrollLeft)){return[L.scrollTop,L.scrollLeft];}else{if(M){return[M.scrollTop,M.scrollLeft];}else{return[0,0];}}},regCE:function(){},_simpleAdd:function(){if(window.addEventListener){return function(N,O,M,L){N.addEventListener(O,M,(L));};}else{if(window.attachEvent){return function(N,O,M,L){N.attachEvent("on"+O,M);};}else{return function(){};}}}(),_simpleRemove:function(){if(window.removeEventListener){return function(N,O,M,L){N.removeEventListener(O,M,(L));};}else{if(window.detachEvent){return function(M,N,L){M.detachEvent("on"+N,L);};}else{return function(){};}}}()};}();(function(){var D=YAHOO.util.Event;D.on=D.addListener;if(D.isIE){YAHOO.util.Event.onDOMReady(YAHOO.util.Event._tryPreloadAttach,YAHOO.util.Event,true);var B,E=document,A=E.body;if(("undefined"!==typeof YAHOO_config)&&YAHOO_config.injecting){B=document.createElement("script");var C=E.getElementsByTagName("head")[0]||A;C.insertBefore(B,C.firstChild);}else{E.write("<script id=\"_yui_eu_dr\" defer=\"true\" src=\"//:\"></script>");B=document.getElementById("_yui_eu_dr");}if(B){B.onreadystatechange=function(){if("complete"===this.readyState){this.parentNode.removeChild(this);YAHOO.util.Event._ready();}};}else{}B=null;}else{if(D.webkit){D._drwatch=setInterval(function(){var F=document.readyState;if("loaded"==F||"complete"==F){clearInterval(D._drwatch);D._drwatch=null;D._ready();}},D.POLL_INTERVAL);}else{D._simpleAdd(document,"DOMContentLoaded",D._ready);}}D._simpleAdd(window,"load",D._load);D._simpleAdd(window,"unload",D._unload);D._tryPreloadAttach();})();}YAHOO.util.EventProvider=function(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:function(A,C,F,E){this.__yui_events=this.__yui_events||{};var D=this.__yui_events[A];if(D){D.subscribe(C,F,E);}else{this.__yui_subscribers=this.__yui_subscribers||{};var B=this.__yui_subscribers;if(!B[A]){B[A]=[];}B[A].push({fn:C,obj:F,override:E});}},unsubscribe:function(C,E,G){this.__yui_events=this.__yui_events||{};var A=this.__yui_events;if(C){var F=A[C];if(F){return F.unsubscribe(E,G);}}else{var B=true;for(var D in A){if(YAHOO.lang.hasOwnProperty(A,D)){B=B&&A[D].unsubscribe(E,G);}}return B;}return false;},unsubscribeAll:function(A){return this.unsubscribe(A);},createEvent:function(G,D){this.__yui_events=this.__yui_events||{};
var A=D||{};var I=this.__yui_events;if(I[G]){}else{var H=A.scope||this;var E=(A.silent);var B=new YAHOO.util.CustomEvent(G,H,E,YAHOO.util.CustomEvent.FLAT);I[G]=B;if(A.onSubscribeCallback){B.subscribeEvent.subscribe(A.onSubscribeCallback);}this.__yui_subscribers=this.__yui_subscribers||{};var F=this.__yui_subscribers[G];if(F){for(var C=0;C<F.length;++C){B.subscribe(F[C].fn,F[C].obj,F[C].override);}}}return I[G];},fireEvent:function(E,D,A,C){this.__yui_events=this.__yui_events||{};var G=this.__yui_events[E];if(!G){return null;}var B=[];for(var F=1;F<arguments.length;++F){B.push(arguments[F]);}return G.fire.apply(G,B);},hasEvent:function(A){if(this.__yui_events){if(this.__yui_events[A]){return true;}}return false;}};YAHOO.util.KeyListener=function(A,F,B,C){if(!A){}else{if(!F){}else{if(!B){}}}if(!C){C=YAHOO.util.KeyListener.KEYDOWN;}var D=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");if(typeof A=="string"){A=document.getElementById(A);}if(typeof B=="function"){D.subscribe(B);}else{D.subscribe(B.fn,B.scope,B.correctScope);}function E(K,J){if(!F.shift){F.shift=false;}if(!F.alt){F.alt=false;}if(!F.ctrl){F.ctrl=false;}if(K.shiftKey==F.shift&&K.altKey==F.alt&&K.ctrlKey==F.ctrl){var H;var G;if(F.keys instanceof Array){for(var I=0;I<F.keys.length;I++){H=F.keys[I];if(H==K.charCode){D.fire(K.charCode,K);break;}else{if(H==K.keyCode){D.fire(K.keyCode,K);break;}}}}else{H=F.keys;if(H==K.charCode){D.fire(K.charCode,K);}else{if(H==K.keyCode){D.fire(K.keyCode,K);}}}}}this.enable=function(){if(!this.enabled){YAHOO.util.Event.addListener(A,C,E);this.enabledEvent.fire(F);}this.enabled=true;};this.disable=function(){if(this.enabled){YAHOO.util.Event.removeListener(A,C,E);this.disabledEvent.fire(F);}this.enabled=false;};this.toString=function(){return"KeyListener ["+F.keys+"] "+A.tagName+(A.id?"["+A.id+"]":"");};};YAHOO.util.KeyListener.KEYDOWN="keydown";YAHOO.util.KeyListener.KEYUP="keyup";YAHOO.register("event",YAHOO.util.Event,{version:"2.3.1",build:"541"});YAHOO.register("yahoo-dom-event", YAHOO, {version: "2.3.1", build: "541"});

// DataSource:

YAHOO.util.DataSource=function(B,D){if(D&&(D.constructor==Object)){for(var C in D){if(C){this[C]=D[C];}}}if(!B){return ;}if(B.nodeType&&B.nodeType==9){this.dataType=YAHOO.util.DataSource.TYPE_XML;}else{if(YAHOO.lang.isArray(B)){this.dataType=YAHOO.util.DataSource.TYPE_JSARRAY;}else{if(YAHOO.lang.isString(B)){this.dataType=YAHOO.util.DataSource.TYPE_XHR;}else{if(YAHOO.lang.isFunction(B)){this.dataType=YAHOO.util.DataSource.TYPE_JSFUNCTION;}else{if(B.nodeName&&(B.nodeName.toLowerCase()=="table")){this.dataType=YAHOO.util.DataSource.TYPE_HTMLTABLE;}else{if(YAHOO.lang.isObject(B)){this.dataType=YAHOO.util.DataSource.TYPE_JSON;}else{this.dataType=YAHOO.util.DataSource.TYPE_UNKNOWN;}}}}}}this.liveData=B;this._oQueue={interval:null,conn:null,requests:[]};var A=this.maxCacheEntries;if(!YAHOO.lang.isNumber(A)||(A<0)){A=0;}if(A>0&&!this._aCache){this._aCache=[];}this._sName="DataSource instance"+YAHOO.util.DataSource._nIndex;YAHOO.util.DataSource._nIndex++;this.createEvent("cacheRequestEvent");this.createEvent("cacheResponseEvent");this.createEvent("requestEvent");this.createEvent("responseEvent");this.createEvent("responseParseEvent");this.createEvent("responseCacheEvent");this.createEvent("dataErrorEvent");this.createEvent("cacheFlushEvent");};YAHOO.augment(YAHOO.util.DataSource,YAHOO.util.EventProvider);YAHOO.util.DataSource.TYPE_UNKNOWN=-1;YAHOO.util.DataSource.TYPE_JSARRAY=0;YAHOO.util.DataSource.TYPE_JSFUNCTION=1;YAHOO.util.DataSource.TYPE_XHR=2;YAHOO.util.DataSource.TYPE_JSON=3;YAHOO.util.DataSource.TYPE_XML=4;YAHOO.util.DataSource.TYPE_TEXT=5;YAHOO.util.DataSource.TYPE_HTMLTABLE=6;YAHOO.util.DataSource.ERROR_DATAINVALID="Invalid data";YAHOO.util.DataSource.ERROR_DATANULL="Null data";YAHOO.util.DataSource._nIndex=0;YAHOO.util.DataSource._nTransactionId=0;YAHOO.util.DataSource.prototype._sName=null;YAHOO.util.DataSource.prototype._aCache=null;YAHOO.util.DataSource.prototype._oQueue=null;YAHOO.util.DataSource.prototype.maxCacheEntries=0;YAHOO.util.DataSource.prototype.liveData=null;YAHOO.util.DataSource.prototype.dataType=YAHOO.util.DataSource.TYPE_UNKNOWN;YAHOO.util.DataSource.prototype.responseType=YAHOO.util.DataSource.TYPE_UNKNOWN;YAHOO.util.DataSource.prototype.responseSchema=null;YAHOO.util.DataSource.prototype.connMgr=null;YAHOO.util.DataSource.prototype.connXhrMode="allowAll";YAHOO.util.DataSource.prototype.connMethodPost=false;YAHOO.util.DataSource.prototype.connTimeout=0;YAHOO.util.DataSource.parseString=function(B){if(!YAHOO.lang.isValue(B)){return null;}var A=B+"";if(YAHOO.lang.isString(A)){return A;}else{return null;}};YAHOO.util.DataSource.parseNumber=function(B){var A=B*1;if(YAHOO.lang.isNumber(A)){return A;}else{return null;}};YAHOO.util.DataSource.convertNumber=function(A){return YAHOO.util.DataSource.parseNumber(A);};YAHOO.util.DataSource.parseDate=function(B){var A=null;if(!(B instanceof Date)){A=new Date(B);}else{return B;}if(A instanceof Date){return A;}else{return null;}};YAHOO.util.DataSource.convertDate=function(A){return YAHOO.util.DataSource.parseDate(A);};YAHOO.util.DataSource.prototype.toString=function(){return this._sName;};YAHOO.util.DataSource.prototype.getCachedResponse=function(H,B,G){var A=this._aCache;var D=(A)?A.length:0;var F=null;if((this.maxCacheEntries>0)&&A&&(D>0)){this.fireEvent("cacheRequestEvent",{request:H,callback:B,caller:G});for(var E=D-1;E>=0;E--){var C=A[E];if(this.isCacheHit(H,C.request)){F=C.response;A.splice(E,1);this.addToCache(H,F);this.fireEvent("cacheResponseEvent",{request:H,response:F,callback:B,caller:G});break;}}}return F;};YAHOO.util.DataSource.prototype.isCacheHit=function(A,B){return(A===B);};YAHOO.util.DataSource.prototype.addToCache=function(D,C){var A=this._aCache;if(!A){return ;}while(A.length>=this.maxCacheEntries){A.shift();}var B={request:D,response:C};A.push(B);this.fireEvent("responseCacheEvent",{request:D,response:C});};YAHOO.util.DataSource.prototype.flushCache=function(){if(this._aCache){this._aCache=[];this.fireEvent("cacheFlushEvent");}};YAHOO.util.DataSource.prototype.sendRequest=function(D,A,C){var B=this.getCachedResponse(D,A,C);if(B){A.call(C,D,B);return null;}return this.makeConnection(D,A,C);};YAHOO.util.DataSource.prototype.makeConnection=function(A,P,K){this.fireEvent("requestEvent",{request:A,callback:P,caller:K});var D=null;var L=YAHOO.util.DataSource._nTransactionId++;switch(this.dataType){case YAHOO.util.DataSource.TYPE_JSFUNCTION:D=this.liveData(A);this.handleResponse(A,D,P,K,L);break;case YAHOO.util.DataSource.TYPE_XHR:var N=this;var C=this.connMgr||YAHOO.util.Connect;var G=this._oQueue;var J=function(Q){if(Q&&(this.connXhrMode=="ignoreStaleResponses")&&(Q.tId!=G.conn.tId)){return null;}else{if(!Q){this.fireEvent("dataErrorEvent",{request:A,callback:P,caller:K,message:YAHOO.util.DataSource.ERROR_DATANULL});P.call(K,A,Q,true);return null;}else{this.handleResponse(A,Q,P,K,L);}}};var O=function(Q){this.fireEvent("dataErrorEvent",{request:A,callback:P,caller:K,message:YAHOO.util.DataSource.ERROR_DATAINVALID});if((this.liveData.lastIndexOf("?")!==this.liveData.length-1)&&(A.indexOf("?")!==0)){}P.call(K,A,Q,true);return null;};var I={success:J,failure:O,scope:this};if(YAHOO.lang.isNumber(this.connTimeout)){I.timeout=this.connTimeout;}if(this.connXhrMode=="cancelStaleRequests"){if(G.conn){if(C.abort){C.abort(G.conn);G.conn=null;}else{}}}if(C&&C.asyncRequest){var B=this.liveData;var H=this.connMethodPost;var M=(H)?"POST":"GET";var E=(H)?B:B+A;var F=(H)?A:null;if(this.connXhrMode!="queueRequests"){G.conn=C.asyncRequest(M,E,I,F);}else{if(G.conn){G.requests.push({request:A,callback:I});if(!G.interval){G.interval=setInterval(function(){if(C.isCallInProgress(G.conn)){return ;}else{if(G.requests.length>0){E=(H)?B:B+G.requests[0].request;F=(H)?G.requests[0].request:null;G.conn=C.asyncRequest(M,E,G.requests[0].callback,F);G.requests.shift();}else{clearInterval(G.interval);G.interval=null;}}},50);}}else{G.conn=C.asyncRequest(M,E,I,F);}}}else{P.call(K,A,null,true);}break;default:D=this.liveData;this.handleResponse(A,D,P,K,L);
break;}return L;};YAHOO.util.DataSource.prototype.handleResponse=function(E,C,B,D,H){this.fireEvent("responseEvent",{request:E,response:C,callback:B,caller:D,tId:H});var G=(this.dataType==YAHOO.util.DataSource.TYPE_XHR)?true:false;var F=null;var A=false;C=this.doBeforeParseData(E,C);switch(this.responseType){case YAHOO.util.DataSource.TYPE_JSARRAY:if(G&&C.responseText){C=C.responseText;}F=this.parseArrayData(E,C);break;case YAHOO.util.DataSource.TYPE_JSON:if(G&&C.responseText){C=C.responseText;}F=this.parseJSONData(E,C);break;case YAHOO.util.DataSource.TYPE_HTMLTABLE:if(G&&C.responseText){C=C.responseText;}F=this.parseHTMLTableData(E,C);break;case YAHOO.util.DataSource.TYPE_XML:if(G&&C.responseXML){C=C.responseXML;}F=this.parseXMLData(E,C);break;case YAHOO.util.DataSource.TYPE_TEXT:if(G&&C.responseText){C=C.responseText;}F=this.parseTextData(E,C);break;default:break;}if(F){F.tId=H;F=this.doBeforeCallback(E,C,F);this.fireEvent("responseParseEvent",{request:E,response:F,callback:B,caller:D});this.addToCache(E,F);}else{this.fireEvent("dataErrorEvent",{request:E,callback:B,caller:D,message:YAHOO.util.DataSource.ERROR_DATANULL});F={error:true};}B.call(D,E,F);};YAHOO.util.DataSource.prototype.doBeforeParseData=function(B,A){return A;};YAHOO.util.DataSource.prototype.doBeforeCallback=function(B,A,C){return C;};YAHOO.util.DataSource.prototype.parseArrayData=function(A,B){if(YAHOO.lang.isArray(B)&&YAHOO.lang.isArray(this.responseSchema.fields)){var J={results:[]};var G=this.responseSchema.fields;for(var E=B.length-1;E>-1;E--){var F={};for(var C=G.length-1;C>-1;C--){var H=G[C];var I=(YAHOO.lang.isValue(H.key))?H.key:H;var D=(YAHOO.lang.isValue(B[E][C]))?B[E][C]:B[E][I];if(!H.parser&&H.converter){H.parser=H.converter;}if(H.parser){D=H.parser.call(this,D);}if(D===undefined){D=null;}F[I]=D;}J.results.unshift(F);}return J;}else{return null;}};YAHOO.util.DataSource.prototype.parseTextData=function(A,B){var N={};if(YAHOO.lang.isString(B)&&YAHOO.lang.isArray(this.responseSchema.fields)&&YAHOO.lang.isString(this.responseSchema.recordDelim)&&YAHOO.lang.isString(this.responseSchema.fieldDelim)){N.results=[];var K=this.responseSchema.recordDelim;var G=this.responseSchema.fieldDelim;var J=this.responseSchema.fields;if(B.length>0){var C=B.length-K.length;if(B.substr(C)==K){B=B.substr(0,C);}var O=B.split(K);for(var F=O.length-1;F>-1;F--){var I={};for(var D=J.length-1;D>-1;D--){var H=O[F].split(G);var E=H[D];if(E.charAt(0)=="\""){E=E.substr(1);}if(E.charAt(E.length-1)=="\""){E=E.substr(0,E.length-1);}var L=J[D];var M=(YAHOO.lang.isValue(L.key))?L.key:L;if(!L.parser&&L.converter){L.parser=L.converter;}if(L.parser){E=L.parser.call(this,E);}if(E===undefined){E=null;}I[M]=E;}N.results.unshift(I);}}}else{N.error=true;}return N;};YAHOO.util.DataSource.prototype.parseXMLData=function(A,C){var I=false;var M={};var D=(this.responseSchema.resultNode)?C.getElementsByTagName(this.responseSchema.resultNode):null;if(!D||!YAHOO.lang.isArray(this.responseSchema.fields)){I=true;}else{M.results=[];for(var F=D.length-1;F>=0;F--){var N=D.item(F);var H={};for(var E=this.responseSchema.fields.length-1;E>=0;E--){var J=this.responseSchema.fields[E];var L=(YAHOO.lang.isValue(J.key))?J.key:J;var G=null;var B=N.attributes.getNamedItem(L);if(B){G=B.value;}else{var K=N.getElementsByTagName(L);if(K&&K.item(0)&&K.item(0).firstChild){G=K.item(0).firstChild.nodeValue;}else{G="";}}if(!J.parser&&J.converter){J.parser=J.converter;}if(J.parser){G=J.parser.call(this,G);}if(G===undefined){G=null;}H[L]=G;}M.results.unshift(H);}}if(I){M.error=true;}else{}return M;};YAHOO.util.DataSource.prototype.parseJSONData=function(oRequest,oRawResponse){var oParsedResponse={};if(oRawResponse&&YAHOO.lang.isArray(this.responseSchema.fields)){var fields=this.responseSchema.fields;var bError=false;oParsedResponse.results=[];var jsonObj,jsonList;if(YAHOO.lang.isString(oRawResponse)){var isNotMac=(navigator.userAgent.toLowerCase().indexOf("khtml")==-1);if(oRawResponse.parseJSON&&isNotMac){jsonObj=oRawResponse.parseJSON();if(!jsonObj){bError=true;}}else{if(window.JSON&&JSON.parse&&isNotMac){jsonObj=JSON.parse(oRawResponse);if(!jsonObj){bError=true;}}else{try{while(oRawResponse.length>0&&(oRawResponse.charAt(0)!="{")&&(oRawResponse.charAt(0)!="[")){oRawResponse=oRawResponse.substring(1,oRawResponse.length);}if(oRawResponse.length>0){var objEnd=Math.max(oRawResponse.lastIndexOf("]"),oRawResponse.lastIndexOf("}"));oRawResponse=oRawResponse.substring(0,objEnd+1);jsonObj=eval("("+oRawResponse+")");if(!jsonObj){bError=true;}}else{jsonObj=null;bError=true;}}catch(e){bError=true;}}}}else{if(oRawResponse.constructor==Object){jsonObj=oRawResponse;}else{bError=true;}}if(jsonObj&&jsonObj.constructor==Object){try{jsonList=eval("jsonObj."+this.responseSchema.resultsList);}catch(e){bError=true;}}if(bError||!jsonList){oParsedResponse.error=true;}if(jsonList&&!YAHOO.lang.isArray(jsonList)){jsonList=[jsonList];}else{if(!jsonList){jsonList=[];}}for(var i=jsonList.length-1;i>=0;i--){var oResult={};var jsonResult=jsonList[i];for(var j=fields.length-1;j>=0;j--){var field=fields[j];var key=(YAHOO.lang.isValue(field.key))?field.key:field;var data=eval("jsonResult."+key);if(!field.parser&&field.converter){field.parser=field.converter;}if(field.parser){data=field.parser.call(this,data);}if(data===undefined){data=null;}oResult[key]=data;}oParsedResponse.results.unshift(oResult);}}else{oParsedResponse.error=true;}return oParsedResponse;};YAHOO.util.DataSource.prototype.parseHTMLTableData=function(B,C){var K=false;var L=C;var J=this.responseSchema.fields;var O={};O.results=[];for(var H=0;H<L.tBodies.length;H++){var D=L.tBodies[H];for(var F=D.rows.length-1;F>-1;F--){var A=D.rows[F];var I={};for(var E=J.length-1;E>-1;E--){var M=J[E];var N=(YAHOO.lang.isValue(M.key))?M.key:M;var G=A.cells[E].innerHTML;if(!M.parser&&M.converter){M.parser=M.converter;}if(M.parser){G=M.parser.call(this,G);}if(G===undefined){G=null;}I[N]=G;}O.results.unshift(I);}}if(K){O.error=true;}else{}return O;};YAHOO.register("datasource",YAHOO.util.DataSource,{version:"2.3.1",build:"541"});

// Fonts, BitmapType, and Graph:

var Fonts={Silkscreen:{a:[[0,0,0,0],[0,1,1,0],[1,0,0,1],[1,1,1,1],[1,0,0,1],[1,0,0,1],[0,0,0,0]],b:[[0,0,0,0],[1,1,1,0],[1,0,0,1],[1,1,1,1],[1,0,0,1],[1,1,1,0],[0,0,0,0]],c:[[0,0,0,0],[0,1,1,0],[1,0,0,1],[1,0,0,0],[1,0,0,1],[0,1,1,0],[0,0,0,0]],d:[[0,0,0,0],[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,1,1,0],[0,0,0,0]],e:[[0,0,0,0],[1,1,1,1],[1,0,0,0],[1,1,1,1],[1,0,0,0],[1,1,1,1],[0,0,0,0]],f:[[0,0,0,0],[1,1,1,1],[1,0,0,0],[1,1,1,1],[1,0,0,0],[1,0,0,0],[0,0,0,0]],g:[[0,0,0,0],[0,1,1,1],[1,0,0,0],[1,0,1,1],[1,0,0,1],[0,1,1,0],[0,0,0,0]],h:[[0,0,0,0],[1,0,0,1],[1,0,0,1],[1,1,1,1],[1,0,0,1],[1,0,0,1],[0,0,0,0]],i:[[0],[1],[1],[1],[1],[1],[0]],j:[[0,0,0,0],[0,0,0,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,0],[0,0,0,0]],k:[[0,0,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,1,0],[1,0,0,1],[0,0,0,0]],l:[[0,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,1,1,1],[0,0,0,0]],m:[[0,0,0,0,0],[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],n:[[0,0,0,0,0],[1,0,0,0,1],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[0,0,0,0,0]],o:[[0,0,0,0],[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0],[0,0,0,0]],p:[[0,0,0,0],[1,1,1,0],[1,0,0,1],[1,1,1,0],[1,0,0,0],[1,0,0,0],[0,0,0,0]],q:[[0,0,0,0],[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0],[0,0,0,1]],r:[[0,0,0,0],[1,1,1,0],[1,0,0,1],[1,1,1,0],[1,0,1,0],[1,0,0,1],[0,0,0,0]],s:[[0,0,0,0],[0,1,1,1],[1,0,0,0],[0,1,1,0],[0,0,0,1],[1,1,1,0],[0,0,0,0]],t:[[0,0,0],[1,1,1],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,0,0]],u:[[0,0,0,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0],[0,0,0,0]],v:[[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,1,0,1,0],[0,0,1,0,0],[0,0,0,0,0]],w:[[0,0,0,0,0],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0],[0,0,0,0,0]],x:[[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0]],y:[[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],z:[[0,0,0],[1,1,1],[0,0,1],[0,1,0],[1,0,0],[1,1,1],[0,0,0]],A:[[0,0,0,0],[0,1,1,0],[1,0,0,1],[1,1,1,1],[1,0,0,1],[1,0,0,1],[0,0,0,0]],B:[[0,0,0,0],[1,1,1,0],[1,0,0,1],[1,1,1,1],[1,0,0,1],[1,1,1,0],[0,0,0,0]],C:[[0,0,0,0],[0,1,1,0],[1,0,0,1],[1,0,0,0],[1,0,0,1],[0,1,1,0],[0,0,0,0]],D:[[0,0,0,0],[1,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,1,1,0],[0,0,0,0]],E:[[0,0,0,0],[1,1,1,1],[1,0,0,0],[1,1,1,1],[1,0,0,0],[1,1,1,1],[0,0,0,0]],F:[[0,0,0,0],[1,1,1,1],[1,0,0,0],[1,1,1,1],[1,0,0,0],[1,0,0,0],[0,0,0,0]],G:[[0,0,0,0],[0,1,1,1],[1,0,0,0],[1,0,1,1],[1,0,0,1],[0,1,1,0],[0,0,0,0]],H:[[0,0,0,0],[1,0,0,1],[1,0,0,1],[1,1,1,1],[1,0,0,1],[1,0,0,1],[0,0,0,0]],I:[[0],[1],[1],[1],[1],[1],[0]],J:[[0,0,0,0],[0,0,0,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,0],[0,0,0,0]],K:[[0,0,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,1,0],[1,0,0,1],[0,0,0,0]],L:[[0,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,0,0,0],[1,1,1,1],[0,0,0,0]],M:[[0,0,0,0,0],[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],N:[[0,0,0,0,0],[1,0,0,0,1],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[0,0,0,0,0]],O:[[0,0,0,0],[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0],[0,0,0,0]],P:[[0,0,0,0],[1,1,1,0],[1,0,0,1],[1,1,1,0],[1,0,0,0],[1,0,0,0],[0,0,0,0]],Q:[[0,0,0,0],[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0],[0,0,0,1]],R:[[0,0,0,0],[1,1,1,0],[1,0,0,1],[1,1,1,0],[1,0,1,0],[1,0,0,1],[0,0,0,0]],S:[[0,0,0,0],[0,1,1,1],[1,0,0,0],[0,1,1,0],[0,0,0,1],[1,1,1,0],[0,0,0,0]],T:[[0,0,0],[1,1,1],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,0,0]],U:[[0,0,0,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0],[0,0,0,0]],V:[[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,1,0,1,0],[0,0,1,0,0],[0,0,0,0,0]],W:[[0,0,0,0,0],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0],[0,0,0,0,0]],X:[[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0]],Y:[[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],Z:[[0,0,0],[1,1,1],[0,0,1],[0,1,0],[1,0,0],[1,1,1],[0,0,0]],space:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],one:[[0,0,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1],[0,0,0]],two:[[0,0,0,0],[1,1,1,0],[0,0,0,1],[0,1,1,0],[1,0,0,0],[1,1,1,1],[0,0,0,0]],three:[[0,0,0,0],[1,1,1,0],[0,0,0,1],[0,1,1,0],[0,0,0,1],[1,1,1,0],[0,0,0,0]],four:[[0,0,0,0],[1,0,1,0],[1,0,1,0],[1,1,1,1],[0,0,1,0],[0,0,1,0],[0,0,0,0]],five:[[0,0,0,0],[1,1,1,1],[1,0,0,0],[1,1,1,0],[0,0,0,1],[1,1,1,0],[0,0,0,0]],six:[[0,0,0,0],[0,1,1,0],[1,0,0,0],[1,1,1,0],[1,0,0,1],[0,1,1,0],[0,0,0,0]],seven:[[0,0,0,0],[1,1,1,1],[0,0,0,1],[0,0,1,0],[0,1,0,0],[0,1,0,0],[0,0,0,0]],eight:[[0,0,0,0],[0,1,1,0],[1,0,0,1],[0,1,1,0],[1,0,0,1],[0,1,1,0],[0,0,0,0]],nine:[[0,0,0,0],[0,1,1,0],[1,0,0,1],[0,1,1,1],[0,0,0,1],[0,1,1,0],[0,0,0,0]],zero:[[0,0,0,0],[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0],[0,0,0,0]],exclaimationPoint:[[0],[1],[1],[1],[0],[1],[0]],at:[[0,0,0,0,0],[0,1,1,1,0],[1,0,1,0,1],[1,0,1,1,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],hash:[[0,0,0,0,0],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[0,0,0,0,0]],dollar:[[0,0,1,0],[0,1,1,1],[1,0,0,0],[0,1,1,0],[0,0,0,1],[1,1,1,0],[0,1,0,0]],percentage:[[0,0,0,0,0],[1,1,0,1,0],[1,1,0,1,0],[0,0,1,0,0],[0,1,0,1,1],[0,1,0,1,1]],caret:[[0,1,0],[1,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],ampersand:[[0,0,1,0],[0,1,1,1],[1,0,0,0],[0,1,1,0],[1,0,0,0],[0,1,1,1],[0,0,1,0]],star:[[0,0,0,0,0],[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0],[0,0,0,0,0]],leftParen:[[0,0],[0,1],[1,0],[1,0],[1,0],[0,1],[0,0]],rightParen:[[0,0],[1,0],[0,1],[0,1],[0,1],[1,0],[0,0]],underscore:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,1,1,1]],dash:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0],[0,0,0,0]],plus:[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],equals:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0]],backtick:[[0,0],[1,0],[0,1],[0,0],[0,0],[0,0],[0,0]],tilde:[[0,0,0,0],[0,1,0,1],[1,0,1,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],leftBracket:[[0,0],[1,1],[1,0],[1,0],[1,0],[1,1],[0,0]],rightBracket:[[0,0],[1,1],[0,1],[0,1],[0,1],[1,1],[0,0]],leftSlash:[[0,0,0],[1,0,0],[1,0,0],[0,1,0],[0,0,1],[0,0,1],[0,0,0]],leftCurlyBracket:[[0,0,0],[0,1,1],[0,1,0],[1,0,0],[0,1,0],[0,1,1],[0,0,0]],rightCurlyBracket:[[0,0,0],[1,1,0],[0,1,0],[0,0,1],[0,1,0],[1,1,0],[0,0,0]],pipe:[[1],[1],[1],[1],[1],[1],[1]],semiColon:[[0,0],[0,0],[0,1],[0,0],[0,1],[1,0],[0,0]],colon:[[0,0],[0,0],[0,1],[0,0],[0,1],[0,0],[0,0]],singleQuote:[[0,0],[1,0],[1,0],[0,0],[0,0],[0,0],[0,0]],doubleQuote:[[0,0,0],[1,0,1],[1,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],comma:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,0],[0,0]],period:[[0],[0],[0],[0],[0],[1],[0]],rightSlash:[[0,0,0],[0,0,1],[0,0,1],[0,1,0],[1,0,0],[1,0,0],[0,0,0]],leftAngleBracket:[[0,0,0],[0,0,1],[0,1,0],[1,0,0],[0,1,0],[0,0,1],[0,0,0]],rightAngleBracket:[[0,0,0],[1,0,0],[0,1,0],[0,0,1],[0,1,0],[1,0,0],[0,0,0]],questionMark:[[0,0,0,0],[1,1,1,0],[0,0,0,1],[0,1,1,0],[0,0,0,0],[0,1,0,0],[0,0,0,0]]}};var BitmapType=function(){return{convert:function(A,Q){var J=A.innerHTML;A.innerHTML="";var B=document.createElement("canvas");A.appendChild(B);var K=BitmapType.tokenize(J);var b=Q.scale||1;var W=Q.lineSpacing||1;var L=Q.font||Fonts.Silkscreen;var C=BitmapType.calculateLength(K,L,b,W);var P=Q.width||C.totalWidth;var M=C.lineHeight*Math.ceil(C.totalWidth/P);for(var E=0,a=0,H=1,G=K.length;E<G;E++){var F=K[E],I=L[F];for(var O=E,U=K.length;O<U;O++){if(K[O]==="space"){break;}}var Z=O;var X=BitmapType.calculateLength(K.slice(E,Z),L,b).totalWidth;var N=BitmapType.calculateLength(K.slice(E,E+1),L,b).totalWidth;if((a+X>P)&&((K[E-1]==="space"&&X<=P)||(a+N>P))){H++;a=0;}a+=(I[0].length+1)*b;}M=C.lineHeight*H;var V=Q.angle||0;B.width=(V===90||V===270)?M:P;B.height=(V===90||V===270)?P:M;var R=B.getContext("2d");var T=window.getComputedStyle(A,"");var S=T.getPropertyValue("color");R.fillStyle=S;var Y=0,D=0;for(var O=0,U=K.length;O<U;O++){var a=BitmapType.translate(K,O,Y,D,P,C.lineHeight,R,L,V,b,P);Y=a[0];D=a[1];}},addStringToCanvas:function(K,S,R){var I=R.x||0;var G=R.y||0;var M=R.font||Fonts.Silkscreen;var b=R.scale||1;var W=R.lineSpacing||1;var V=R.angle||0;var T=R.color||"#000";var B=R.textAlign||"left";var L=BitmapType.tokenize(K);var A=BitmapType.calculateLength(L,M,b,W);var Q=R.width||A.totalWidth;var N=A.lineHeight*Math.ceil(A.totalWidth/Q);for(var D=0,a=0,H=1,F=L.length;D<F;D++){var E=L[D],J=M[E];for(var P=D,U=L.length;P<U;P++){if(L[P]==="space"){break;}}var Z=P;var X=BitmapType.calculateLength(L.slice(D,Z),M,b).totalWidth;var O=BitmapType.calculateLength(L.slice(D,D+1),M,b).totalWidth;if((a+X>Q)&&((L[D-1]==="space"&&X<=Q)||(a+O>Q))){H++;a=0;}a+=(J[0].length+1)*b;}N=A.lineHeight*H;S.fillStyle=T;var Y=0,C=0;if(B==="right"&&N===A.lineHeight&&A.totalWidth<Q){Y=Q-A.totalWidth;}for(var P=0,U=L.length;P<U;P++){var a=BitmapType.translate(L,P,Y,C,Q,A.lineHeight,S,M,V,b,Q,I,G);Y=a[0];C=a[1];}},tokenize:function(E){if(E===null||E===undefined){E="";}E=E.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");for(var F=0,A=E.length,D=[],B,C;F<A;F++,B=""){C=E.charAt(F);if(C.match(/[a-zA-Z]/)){B=C;}else{switch(C){case" ":B="space";break;case"1":B="one";break;case"2":B="two";break;case"3":B="three";break;case"4":B="four";break;case"5":B="five";break;case"6":B="six";break;case"7":B="seven";break;case"8":B="eight";break;case"9":B="nine";break;case"0":B="zero";break;case"!":B="exclaimationPoint";break;case"@":B="at";break;case"#":B="hash";break;case"$":B="dollar";break;case"%":B="percentage";break;case"^":B="caret";break;case"&":B="ampersand";break;case"*":B="star";break;case"(":B="leftParen";break;case")":B="rightParen";break;case"_":B="underscore";break;case"-":B="dash";break;case"+":B="plus";break;case"=":B="equals";break;case"`":B="backtick";break;case"~":B="tilde";break;case"[":B="leftBracket";break;case"]":B="rightBracket";break;case"\\":B="leftSlash";break;case"{":B="leftCurlyBracket";break;case"}":B="rightCurlyBracket";break;case"|":B="pipe";break;case";":B="semiColon";break;case":":B="colon";break;case"'":B="singleQuote";break;case'"':B="doubleQuote";break;case",":B="comma";break;case".":B="period";break;case"/":B="rightSlash";break;case"<":B="leftAngleBracket";break;case">":B="rightAngleBracket";break;case"?":B="questionMark";break;default:B="";}}if(B!==""){D.push(B);}}return D;},calculateLength:function(D,B,F,E){var C={totalWidth:0};for(var G=0,A=D.length;G<A;G++){C.totalWidth+=B[D[G]][0].length+F;}C.totalWidth=C.totalWidth*F;C.lineHeight=(B["space"].length+E)*F;return C;},translate:function(I,D,U,C,N,K,P,J,R,V,A,G,F){if(G===undefined){G=0;}if(F===undefined){F=0;}var E=I[D],H=J[E];for(var M=D,Q=I.length;M<Q;M++){if(I[M]==="space"){break;}}var T=M;var S=BitmapType.calculateLength(I.slice(D,T),J,V).totalWidth;var L=BitmapType.calculateLength(I.slice(D,D+1),J,V).totalWidth;if((U+S>N)&&((I[D-1]==="space"&&S<=N)||(U+L>N))){C++;U=0;}for(var M=0,Q=H.length*V;M<Q;M+=V){for(var O=0,B=H[M/V].length*V;O<B;O+=V){if(!H[M/V][O/V]){continue;}switch(R){case 90:P.fillRect(Q-M+G,O+U+F,V,V);break;case 180:P.fillRect(A-(O+U)-1+G,Q-M+F,V,V);break;case 270:P.fillRect(M+G,A-(O+U)-1+F,V,V);break;default:P.fillRect(O+U+G,M+(C*K)+F,V,V);break;}}}return[U+B+V,C];}};}();YAHOO.namespace("Smb.Graph");YAHOO.Smb.Graph=function(B,A,C,H){var F=YAHOO.env.getVersion("dom");var E=YAHOO.env.getVersion("event");if(typeof YAHOO.env.ua!=="object"){throw new Error("YAHOO.Smb.Graph: can't find YAHOO.env.ua. Include version 2.3.0 or above of the global YAHOO object.");}if(YAHOO.lang.isNull(F)||!YAHOO.lang.isObject(F)||parseInt(F.build,10)<YAHOO.Smb.Graph.reqBuild){throw new Error("YAHOO.Smb.Graph: can't find needed version of YAHOO.util.Dom. Include version 2.2.0 or above.");}if(YAHOO.lang.isNull(E)||!YAHOO.lang.isObject(E)||parseInt(E.build,10)<YAHOO.Smb.Graph.reqBuild){throw new Error("YAHOO.Smb.Graph: can't find needed version of YAHOO.util.Event. Include version 2.2.0 or above.");}if(typeof B!=="object"&&typeof B!=="string"){throw new Error("YAHOO.Smb.Graph: the first argument to the constructor must be a string corresponding to an element ID or a reference to an element.");}var D=(typeof C==="object"&&typeof C.length==="number")&&(typeof H==="object"&&typeof H.sendRequest==="function");this.data=[];this.graphColor=[];this.dataMarkers=[];this.enableData=[];this.browserDetect();if(YAHOO.util.Dom.inDocument(B)){this.canvas=YAHOO.util.Dom.get(B);}else{this.canvas=document.createElement("canvas");this.canvas.id=B;document.getElementsByTagName("body")[0].appendChild(this.canvas);if(typeof G_vmlCanvasManager!=="undefined"){this.queueProperty("width",A.width);this.queueProperty("height",A.height);G_vmlCanvasManager.initElement(this.canvas);this.canvas=YAHOO.util.Dom.get(B);}}YAHOO.util.Dom.addClass(this.canvas,YAHOO.Smb.Graph.classNames.prefix+YAHOO.Smb.Graph.classNames.canvas);this.ctx=this.canvas.getContext("2d");A=A||{};this.queueProperty("width",A.width);this.queueProperty("height",A.height);this.queueProperty("paddingTop",A.paddingTop);this.queueProperty("paddingRight",A.paddingRight);this.queueProperty("paddingBottom",A.paddingBottom);this.queueProperty("paddingLeft",A.paddingLeft);this.queueProperty("showXLabels",A.showXLabels);this.queueProperty("showYLabels",A.showYLabels);this.queueProperty("showBarLabels",A.showBarLabels);this.queueProperty("labelFont",A.labelFont);this.queueProperty("labelFontScale",A.labelFontScale);this.queueProperty("xLabelColor",A.xLabelColor);this.queueProperty("yLabelColor",A.yLabelColor);this.queueProperty("barLabelColor",A.barLabelColor);this.queueProperty("xLabelPre",A.xLabelPre);this.queueProperty("xLabelPost",A.xLabelPost);this.queueProperty("yLabelPre",A.yLabelPre);this.queueProperty("yLabelPost",A.yLabelPost);this.queueProperty("barLabelPre",A.batLabelPre);this.queueProperty("barLabelPost",A.batLabelPost);this.queueProperty("xLabelSpacing",A.xLabelSpacing);this.queueProperty("yLabelSpacing",A.yLabelSpacing);this.queueProperty("typeLib",A.typeLib);this.queueProperty("background",A.background);this.queueProperty("xGridColor",A.xGridColor);this.queueProperty("yGridColor",A.yGridColor);this.queueProperty("xGridSpacing",A.xGridSpacing);this.queueProperty("yGridSpacing",A.yGridSpacing);this.queueProperty("xAxisColor",A.xAxisColor);this.queueProperty("yAxisColor",A.yAxisColor);this.queueProperty("hideXAxis",A.hideXAxis);this.queueProperty("hideYAxis",A.hideYAxis);this.queueProperty("enableHoverInfo",A.enableHoverInfo);this.queueProperty("dontForceZero",A.dontForceZero);this.queueProperty("type",A.type);this.queueProperty("start",A.start);this.queueProperty("end",A.end);this.queueProperty("yScale",A.yScale);this.queueProperty("xKey",A.xKey);this.queueProperty("xLabel",A.xLabel);this.mousemove=new YAHOO.util.CustomEvent("mousemove",this,false,YAHOO.util.CustomEvent.FLAT);this.mouseover=new YAHOO.util.CustomEvent("mouseover",this,false,YAHOO.util.CustomEvent.FLAT);this.mouseout=new YAHOO.util.CustomEvent("mouseout",this,false,YAHOO.util.CustomEvent.FLAT);this.hoverInfo=document.createElement("div");this.hoverInfo.id=B+"-hover-info";this.hoverInfoText=document.createElement("div");this.canvas.parentNode.appendChild(this.hoverInfo);this.hoverInfo.appendChild(this.hoverInfoText);YAHOO.util.Dom.addClass(this.hoverInfo,YAHOO.Smb.Graph.classNames.prefix+YAHOO.Smb.Graph.classNames.hoverInfo);YAHOO.util.Dom.setStyle(this.hoverInfo,"position","absolute");var G=YAHOO.util.Dom.getStyle(this.canvas.parentNode,"position");this.parentStatic=(G!=="relative"&&G!=="fixed");this.parentPosition=(!this.parentStatic)?{x:YAHOO.util.Dom.getX(this.canvas.parentNode),y:YAHOO.util.Dom.getY(this.canvas.parentNode)}:{x:0,y:0};this.canvasPosition={x:YAHOO.util.Dom.getX(this.canvas)-this.parentPosition.x,y:YAHOO.util.Dom.getY(this.canvas)-this.parentPosition.y};YAHOO.util.Dom.setStyle(this.hoverInfo,"top",(this.canvasPosition.y+this.paddingTop)+"px");YAHOO.util.Dom.setStyle(this.hoverInfo,"left",this.canvasPosition.x+"px");YAHOO.util.Dom.setStyle(this.hoverInfo,"width","1px");if(this.type==="pie"){YAHOO.util.Dom.setStyle(this.hoverInfo,"height","1px");}else{YAHOO.util.Dom.setStyle(this.hoverInfo,"height",(this.height-this.paddingBottom-this.paddingTop)+"px");YAHOO.util.Dom.setStyle(this.hoverInfo,"background","#666");}YAHOO.util.Dom.setStyle(this.hoverInfo,"z-index",100);YAHOO.util.Dom.setStyle(this.hoverInfo,"overflow","visible");YAHOO.util.Dom.setStyle(this.hoverInfo,"display","none");YAHOO.util.Dom.addClass(this.hoverInfoText,YAHOO.Smb.Graph.classNames.prefix+YAHOO.Smb.Graph.classNames.hoverInfoText);YAHOO.util.Dom.setStyle(this.hoverInfoText,"position","absolute");YAHOO.util.Dom.setStyle(this.hoverInfoText,"top","10px");YAHOO.util.Dom.setStyle(this.hoverInfoText,"left","10px");YAHOO.util.Dom.setStyle(this.hoverInfoText,"width","auto");YAHOO.util.Dom.setStyle(this.hoverInfoText,"height","1em");YAHOO.util.Dom.setStyle(this.hoverInfoText,"padding",".2em .4em .3em");YAHOO.util.Dom.setStyle(this.hoverInfoText,"background","#fff");YAHOO.util.Dom.setStyle(this.hoverInfoText,"border","1px solid #888");YAHOO.util.Dom.setStyle(this.hoverInfoText,"color","#000");this.canvasProxy=document.createElement("div");this.canvasProxy.id=B+"-proxy";this.canvas.parentNode.appendChild(this.canvasProxy);YAHOO.util.Dom.addClass(this.canvasProxy,YAHOO.Smb.Graph.classNames.prefix+YAHOO.Smb.Graph.classNames.proxy);YAHOO.util.Dom.setStyle(this.canvasProxy,"width",this.width+"px");YAHOO.util.Dom.setStyle(this.canvasProxy,"height",this.height+"px");YAHOO.util.Dom.setStyle(this.canvasProxy,"z-index",200);YAHOO.util.Dom.setStyle(this.canvasProxy,"position","absolute");YAHOO.util.Dom.setStyle(this.canvasProxy,"top",this.canvasPosition.y+"px");YAHOO.util.Dom.setStyle(this.canvasProxy,"left",this.canvasPosition.x+"px");if(D){this.seriesInfo=C;this.dataSource=H;this.refreshData();}YAHOO.util.Event.on(this.canvasProxy,"mouseover",this.showHoverInfo,this,true);YAHOO.util.Event.on(this.canvasProxy,"mouseout",this.hideHoverInfo,this,true);YAHOO.util.Event.on(this.canvasProxy,"mousemove",this.updateHoverInfo,this,true);};YAHOO.Smb.Graph.reqBuild=127;YAHOO.Smb.Graph.version=1;YAHOO.Smb.Graph.defaults={width:300,height:180,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,typeLib:undefined,labelFont:undefined,labelFontScale:1,showXLabels:false,showYLabels:false,showBarLabels:false,xLabelSpacing:0,yLabelSpacing:0,xLabelColor:"#000",yLabelColor:"#000",barLabelColor:"#000",xLabelPre:"",xLabelPost:"",yLabelPre:"",yLabelPost:"",barLabelPre:"",barLabelPost:"",background:"#fff",xGridColor:"#e8e8e8",yGridColor:"#e8e8e8",xGridSpacing:-1,yGridSpacing:-1,xAxisColor:"#000",yAxisColor:"#000",hideXAxis:false,hideYAxis:false,enableHoverInfo:false,dontForceZero:false,type:"line",start:0,end:0,yScale:"linear",xKey:undefined,xLabel:undefined};YAHOO.Smb.Graph.classNames={prefix:"ysmb-graph-",canvas:"canvas",hoverInfo:"hover-info",hoverInfoText:"hover-info-text",proxy:"proxy"};YAHOO.Smb.Graph.prototype={render:function(){return this.clearGraph().calculateScale().drawGrid().drawGraph().drawScale().drawLabels();},clearGraph:function(){this.ctx.clearRect(0,0,this.width,this.height);return this;},calculateScale:function(){this.scale={};if(this.type==="pie"){this.scale.center={x:this.width/2,y:this.height/2};this.scale.radius=(this.width<this.height)?this.width*0.44:this.height*0.44;this.total=0;for(var D=this.start,B=this.data[0].length;D<this.end&&D<B;D++){this.total+=this.data[0][D].y.value;}this.scale.radians=2*Math.PI/this.total;}else{this.max=0;this.min=(this.dontForceZero)?9e+30:0;for(var A=0,C=this.data.length;A<C;A++){for(var D=0,B=this.data[A].length;D<B;D++){if(this.data[A][D].y.value>this.max){this.max=this.data[A][D].y.value;}if(this.data[A][D].y.value<this.min){this.min=this.data[A][D].y.value;}}}this.scale.vert=(this.height-this.paddingBottom-this.paddingTop)/(this.max-this.min);this.scale.horiz=(this.width-this.paddingLeft-this.paddingRight)/(this.end-this.start-((this.type==="bar")?0:1));this.scale.origin=Math.round(this.height-((0-this.min)*this.scale.vert+this.paddingBottom))-1;}return this;},refreshData:function(){if(typeof this.dataSource!=="object"||typeof this.dataSource.sendRequest!=="function"){return this;}this.dataSource.sendRequest({},this._handleDataResponse,this);return this;},queueProperty:function(B,A){switch(B){case"type":if(A!==undefined&&A!=="line"&&A!=="bar"&&A!=="area"&&A!=="pie"){throw new Error("Graph: You can only set type to be line, bar, area or pie.");}break;case"start":if(A<0){throw new Error("Graph: start must be greater than zero.");}break;case"end":if(A<this.start){throw new Error("Graph: end must be greater than start.");}break;}this[B]=A||YAHOO.Smb.Graph.defaults[B];switch(B){case"width":if(this.SAFARI_2){this.canvas.style.width=this.width+"px";}else{this.canvas.width=this.width;}break;case"height":if(this.SAFARI_2){this.canvas.style.height=this.height+"px";}else{this.canvas.height=this.height;}break;case"background":YAHOO.util.Dom.setStyle(this.canvas,"background",this.background);break;case"paddingBottom":if(this.type!=="pie"){YAHOO.util.Dom.setStyle(this.hoverInfo,"height",(this.height-this.paddingBottom)+"px");}break;}return this;},setProperty:function(B,A){return this.queueProperty(B,A).render();},getProperty:function(A){return this[A];},browserDetect:function(){this.MSIE=(YAHOO.env.ua.ie>0);this.SAFARI_2=(YAHOO.env.ua.webkit>=412&&YAHOO.env.ua.webkit<522);this.SAFARI_3=(YAHOO.env.ua.webkit>=522);},addDataSet:function(G,F){var D=F.xLabel||F.x;var C=F.yLabel||F.y;var E=F.color||"#cc0000";if(this.type==="pie"){E=F.colors||["#cc0000","#c36000","#8c8d9b","#46495e","#ff9900","#666666"];this.graphOutline=F.outline||"#000";}this.data.push([]);this.graphColor.push(E);this.enableData.push(true);var B=this.data.length-1;for(var H=0,A=G.length;H<A;H++){this.data[B][H]={x:{},y:{}};this.data[B][H].x.value=parseFloat(G[H][F.x])||H;this.data[B][H].y.value=(G[H][F.y]===null)?null:parseFloat(G[H][F.y]);this.data[B][H].x.label=G[H][D]||H;this.data[B][H].y.label=G[H][C];if(this.yScale==="log"){this.data[B][H].y.value=Math.log(this.data[B][H].y.value)*Math.LOG10E;}}if(this.end===0){this.end=this.data[B].length;}if(this.type!=="pie"){this.dataMarkers.push(document.createElement("div"));var A=this.dataMarkers.length-1;this.hoverInfo.appendChild(this.dataMarkers[A]);YAHOO.util.Dom.setStyle(this.dataMarkers[A],"position","absolute");YAHOO.util.Dom.setStyle(this.dataMarkers[A],"overflow","hidden");YAHOO.util.Dom.setStyle(this.dataMarkers[A],"top","2px");YAHOO.util.Dom.setStyle(this.dataMarkers[A],"left","-2px");YAHOO.util.Dom.setStyle(this.dataMarkers[A],"width","5px");YAHOO.util.Dom.setStyle(this.dataMarkers[A],"height","5px");YAHOO.util.Dom.setStyle(this.dataMarkers[A],"margin-top","-2px");YAHOO.util.Dom.setStyle(this.dataMarkers[A],"background",E);YAHOO.util.Dom.setStyle(this.dataMarkers[A],"border","1px solid "+this.background);}return B;},_handleDataResponse:function(D,B){for(var C=0,A=this.seriesInfo.length;C<A;C++){this.addDataSet(B.results,{y:this.seriesInfo[C].key,xLabel:this.getProperty("xKey"),color:this.seriesInfo[C].color});}},getNumDataSets:function(){return this.data.length;},toggleData:function(B,A){return(A)?this.showData(B):this.hideData(B);},hideData:function(A){this.enableData[A]=false;return this;},showData:function(A){this.enableData[A]=true;return this;},setDataColor:function(B,A){this.graphColor[B]=A;return this;},getContext:function(){return this.ctx;},showHoverInfo:function(A){this.mouseover.fire();if(this.enableHoverInfo&&this.type!=="pie"){YAHOO.util.Dom.setStyle(this.hoverInfo,"display","block");}return this;},hideHoverInfo:function(A){this.mouseout.fire();if(this.enableHoverInfo&&this.type!=="pie"){YAHOO.util.Dom.setStyle(this.hoverInfo,"display","none");}return this;},updateHoverInfo:function(I){var L=Math.round((I.clientX-this.canvasPosition.x-this.parentPosition.x-this.paddingLeft)/this.scale.horiz)+this.start;var K;if(L>=this.data[0].length){this.hideHoverInfo();return this;}var E=false;var J=[];if(this.type==="pie"){L=Math.round(I.clientX-YAHOO.util.Dom.getX(this.canvas));K=Math.round(I.clientY-YAHOO.util.Dom.getY(this.canvas));var G=Math.abs(L-this.scale.center.x);var F=Math.abs(K-this.scale.center.y);var C=Math.sqrt(G*G+F*F);E=C<=this.scale.radius;if(E){var D=Math.atan(F/G);if(L<this.scale.center.x&&K<this.scale.center.y){D+=3*Math.PI/2;}else{if(L<this.scale.center.x&&K>=this.scale.center.y){D=(Math.PI/2-D)+Math.PI;}else{if(L>=this.scale.center.x&&K>=this.scale.center.y){D+=Math.PI/2;}else{D=(Math.PI/2)-D;}}}for(var B=this.start,H=this.data[0].length,M=0;B<this.end&&B<H;B++){if(D>=M&&D<this.scale.radians*this.data[0][B].y.value+M){J=[this.data[0][B].x.label.replace(/ /g,"&nbsp;"),(this.data[0][B].y.value/this.total*100)+"%",this.data[0][B].y.value];break;}M+=this.scale.radians*this.data[0][B].y.value;}}else{J=[];}}else{if(L>=this.start){J.push(this.data[0][L].x.label);for(var B=0,H=this.data.length;B<H;B++){if(!this.enableData[B]){continue;}J.push(this.data[B][L].y.label);}}}if(J.length>0){this.mousemove.fire(J);}if(this.enableHoverInfo){if(this.type==="pie"){if(E){YAHOO.util.Dom.setStyle(this.hoverInfo,"display","block");YAHOO.util.Dom.setStyle(this.hoverInfo,"left",I.clientX+"px");YAHOO.util.Dom.setStyle(this.hoverInfo,"top",I.clientY+"px");this.hoverInfoText.innerHTML=J[0]+"&nbsp;-&nbsp;"+J[1]+"&nbsp;("+J[2]+")";}else{YAHOO.util.Dom.setStyle(this.hoverInfo,"display","none");}}else{if(L>=this.start&&L<=this.end){this.showHoverInfo();}else{this.hideHoverInfo();}YAHOO.util.Dom.setStyle(this.hoverInfo,"left",(I.clientX-this.parentPosition.x)+"px");if(!this.data[0][L]){return this;}var A=this.data[0][L].x.label;for(var B=0,H=this.data.length;B<H;B++){if(!this.enableData[B]){YAHOO.util.Dom.setStyle(this.dataMarkers[B],"display","none");continue;}A+=',&nbsp;<em style="color:'+this.graphColor[B]+'">'+this.data[B][L].y.label+"</em>";K=Math.round(this.height-((this.data[B][L].y.value-this.min)*this.scale.vert)-this.paddingBottom-this.paddingTop);YAHOO.util.Dom.setStyle(this.dataMarkers[B],"display","block");YAHOO.util.Dom.setStyle(this.dataMarkers[B],"top",K+"px");}this.hoverInfoText.innerHTML=A;}}return this;},drawGrid:function(){if(this.type==="pie"){return this;}var B=(this.xGridSpacing<0)?this.scale.horiz*4:this.xGridSpacing;this.ctx.fillStyle=this.yGridColor;for(var C=this.paddingLeft;C<(this.width-this.paddingRight);C+=B){this.ctx.fillRect(C,0,1,this.height-this.paddingBottom);}this.ctx.fillRect(this.width-1,0,1,this.height-this.paddingBottom);B=(this.yGridSpacing<0)?(this.height-this.paddingBottom-this.paddingTop)/16:this.yGridSpacing;var A;this.ctx.fillStyle=this.xGridColor;for(var C=this.paddingTop;C<(this.height-this.paddingBottom);C+=B){this.ctx.fillRect(this.paddingLeft,C,this.width-this.paddingLeft-this.paddingRight,1);}return this;},drawScale:function(){if((this.hideXAxis&&this.hideYAxis)||this.type==="pie"){return this;}if(!this.hideYAxis){this.ctx.fillStyle=this.yAxisColor;this.ctx.fillRect(this.paddingLeft,this.paddingTop,1,this.height-this.paddingBottom-this.paddingTop);}if(!this.hideXAxis){this.ctx.fillStyle=this.xAxisColor;this.ctx.fillRect(this.paddingLeft,this.scale.origin,this.width-this.paddingLeft-this.paddingRight,1);}var D=(this.yGridSpacing<0)?(this.height-this.paddingBottom-this.paddingTop)/16:this.yGridSpacing;if(!this.hideYAxis){this.ctx.fillStyle=this.yAxisColor;for(var E=this.paddingTop,B=0;E<(this.height-this.paddingBottom);E+=D,B++){var C=(this.yGridSpacing<0)?((B%2===0)?3:((B%4===3)?5:9)):7;this.ctx.fillRect(this.paddingLeft-Math.floor(C/2),Math.round(E),C,1);}}D=(this.xGridSpacing<0)?this.scale.horiz*4:this.xGridSpacing;if(!this.hideXAxis){this.ctx.fillStyle=this.xAxisColor;for(var E=this.paddingLeft,B=0;E<this.width;E+=D,B++){if(B===0){continue;}var A=(this.xGridSpacing<0)?((B%2===0)?3:((B%4===3)?5:8)):7;this.ctx.fillRect(Math.round(E),this.scale.origin-A+Math.floor(A/2),1,A);}}return this;},drawLabels:function(){if(this.typeLib===undefined||this.labelFont===undefined){return this;}var J,A,K,H;var C=(this.yGridSpacing<0)?(this.height-this.paddingBottom-this.paddingTop)/16:this.yGridSpacing;if(this.showYLabels){this.ctx.fillStyle=this.yAxisColor;var E=Math.log(this.scale.vert)*Math.LOG10E;E=(E<0)?0:Math.floor(E);for(var B=this.paddingTop,D=0;B<(this.height-this.paddingBottom);B+=C,D++){if(D===0||(this.yGridSpacing<0&&(D%2===0||D%4===3))||((D-1)%(this.yLabelSpacing+1)!==0)){continue;}J=((this.height-this.paddingBottom-B)/this.scale.vert)+this.min;if(this.yScale==="log"){J=Math.exp(J/Math.LOG10E);}J=J.toFixed(E);J=this.yLabelPre+J+this.yLabelPost;A=this.typeLib.calculateLength(this.typeLib.tokenize(J),this.labelFont,this.labelFontScale,0);if(A.totalWidth>this.paddingLeft-8){continue;}this.typeLib.addStringToCanvas(J,this.ctx,{x:0,y:Math.round(B-(A.lineHeight/2)),width:this.paddingLeft-8,font:this.labelFont,color:this.yLabelColor,scale:this.labelFontScale,textAlign:"right"});}}C=(this.xGridSpacing<0)?this.scale.horiz*4:this.xGridSpacing;if(this.showXLabels){this.ctx.fillStyle=this.xAxisColor;var I;for(var B=this.paddingLeft,D=0;B<this.width;B+=C,D++){I=Math.round((B-this.paddingLeft)/this.scale.horiz)+this.start;if(I>=this.data[0].length||(this.xGridSpacing<0&&(D%2===0||D%4===3))||((D-1)%(this.xLabelSpacing+1)!==0)){continue;}J=this.data[0][I].x.label;J=this.xLabelPre+J+this.xLabelPost;A=this.typeLib.calculateLength(this.typeLib.tokenize(J),this.labelFont,this.labelFontScale,0);K=Math.round((this.type==="bar")?B:B-(A.totalWidth/2));H=this.height-this.paddingBottom+8;this.typeLib.addStringToCanvas(J,this.ctx,{x:K,y:H,font:this.labelFont,color:this.xLabelColor,scale:this.labelFontScale});}}if(this.type==="bar"&&this.showBarLabels){this.ctx.fillStyle="#cc0000";var G;for(var B=0,F=this.data.length;B<F;B++){if(!this.enableData[B]){continue;}for(var D=this.start,F=this.data[B].length;D<this.end&&D<F;D++){J=this.data[B][D].y.label;J=this.barLabelPre+J+this.barLabelPost;G=this.typeLib.tokenize(J);A=this.typeLib.calculateLength(G,this.labelFont,this.labelFontScale,1);K=Math.round(this.data[B][D].x.value*this.scale.horiz-(this.start*this.scale.horiz)+this.paddingLeft+(this.scale.horiz*0.4)-(A.lineHeight/2));H=Math.round(this.height-((this.data[B][D].y.value-this.min)*this.scale.vert+A.totalWidth+4+this.paddingBottom));if(this.data[B][D].y.value<=0){H=Math.round(this.scale.origin-A.totalWidth-4);}if(H<0){continue;}this.typeLib.addStringToCanvas(J,this.ctx,{x:K,y:H,font:this.labelFont,color:this.barLabelColor,scale:this.labelFontScale,angle:270});}}}return this;},drawGraph:function(){if(this.data.length===0){return this;}var B;switch(this.type){case"bar":B=this.drawBar;break;case"area":B=this.drawArea;break;case"pie":B=this.drawPie;break;case"line":default:B=this.drawLine;}for(var C=0,A=this.data.length;C<A;C++){if(!this.enableData[C]){continue;}B.call(this,this.data[C],this.graphColor[C]);}return this;},drawBar:function(C,B){this.ctx.fillStyle=B;for(var D=this.start,A=C.length;D<this.end&&D<A;D++){this.ctx.fillRect(C[D].x.value*this.scale.horiz-(this.start*this.scale.horiz)+this.paddingLeft,this.height-((C[D].y.value-this.min)*this.scale.vert)-this.paddingBottom,this.scale.horiz*0.8,C[D].y.value*this.scale.vert);}return this;},drawArea:function(C,B){this.ctx.fillStyle=B;this.ctx.beginPath();this.ctx.moveTo(this.paddingLeft,this.scale.origin);for(var D=this.start,A=C.length;D<this.end&&D<A;D++){if(C[D].y.value===null){this.ctx.lineTo(C[D-1].x.value*this.scale.horiz-(this.start*this.scale.horiz)+this.paddingLeft,this.height-((C[D].y.value-this.min)*this.scale.vert)-this.paddingBottom);if(C[D+1]){this.ctx.moveTo(C[D+1].x.value*this.scale.horiz-(this.start*this.scale.horiz)+this.paddingLeft,this.height-((C[D].y.value-this.min)*this.scale.vert)-this.paddingBottom);}}else{this.ctx.lineTo(C[D].x.value*this.scale.horiz-(this.start*this.scale.horiz)+this.paddingLeft,this.height-((C[D].y.value-this.min)*this.scale.vert)-this.paddingBottom);}}this.ctx.lineTo(C[--D].x.value*this.scale.horiz-(this.start*this.scale.horiz)+this.paddingLeft,this.scale.origin);this.ctx.fill();return this;},drawLine:function(C,B){this.ctx.strokeStyle=B;this.ctx.beginPath();this.ctx.moveTo(this.paddingLeft,this.height-((C[this.start].y.value-this.min)*this.scale.vert)-this.paddingBottom);for(var D=this.start,A=C.length;D<this.end&&D<A;D++){if(C[D].y.value===null){this.ctx.stroke();if(C[D+1]){this.ctx.moveTo(C[D+1].x.value*this.scale.horiz-(this.start*this.scale.horiz)+this.paddingLeft,this.height-((C[D+1].y.value-this.min)*this.scale.vert)-this.paddingBottom);this.ctx.beginPath();}}else{this.ctx.lineTo(C[D].x.value*this.scale.horiz-(this.start*this.scale.horiz)+this.paddingLeft,this.height-((C[D].y.value-this.min)*this.scale.vert)-this.paddingBottom);}}this.ctx.stroke();return this;},drawPie:function(C,B){this.ctx.strokeStyle=this.graphOutline;for(var E=this.start,A=C.length,D=Math.PI/-2;E<this.end&&E<A;E++){this.ctx.fillStyle=(E<B.length)?B[E]:B[E%B.length];this.ctx.beginPath();this.ctx.moveTo(this.scale.center.x,this.scale.center.y);this.ctx.arc(this.scale.center.x,this.scale.center.y,this.scale.radius,D,this.scale.radians*C[E].y.value+D,false);this.ctx.lineTo(this.scale.center.x,this.scale.center.y);this.ctx.fill();this.ctx.beginPath();this.ctx.moveTo(this.scale.center.x,this.scale.center.y);if(E===0){this.ctx.lineTo(this.scale.center.x,this.scale.center.y-this.scale.radius);}this.ctx.arc(this.scale.center.x,this.scale.center.y,this.scale.radius,D,this.scale.radians*C[E].y.value+D,false);this.ctx.lineTo(this.scale.center.x,this.scale.center.y);this.ctx.stroke();D+=this.scale.radians*C[E].y.value;}return this;}};

// colors.techfoolery.com code:

var TF = window.TF || {};

TF.Graph = function(elementId, attr, seriesInfo, dataSource) {
	// Call the superclass' constructor.
	TF.Graph.superclass.constructor.call(this, elementId, attr, seriesInfo, dataSource);
};
YAHOO.lang.extend(TF.Graph, YAHOO.Smb.Graph);

TF.Graph.prototype.drawBar = function(dataSet, color) {

	// Draw the colored background.

	var barWidth = this.scale.horiz;
	var horizConstant = this.scale.horiz - (this.start * this.scale.horiz);

	for(var n = this.start, len = dataSet.length; n < this.end && n < len; n++) {
		var barHeight = this.height - ((dataSet[n].y.value - this.min) * this.scale.vert) - this.paddingBottom;
		this.ctx.fillStyle = dataSet[n].color;
		this.ctx.fillRect(dataSet[n].x.value * horizConstant + this.paddingLeft, barHeight, barWidth, dataSet[n].y.value * this.scale.vert);
	}

	return this;
};

TF.Graph.prototype.drawLabels = function() {

	if(this.typeLib === undefined || this.labelFont === undefined) return this;

	// Bar labels.

	if(this.type === 'bar' && this.showBarLabels) {
		this.ctx.fillStyle = '#cc0000';
		var horizConstant = Math.round(this.scale.horiz - (this.start * this.scale.horiz) + this.paddingLeft);

		for(var n = 0, len = this.data.length; n < len; n++) {
			if(!this.enableData[n]) continue;
			for(var m = this.start, len = this.data[n].length; m < this.end && m < len; m++) {

				var label = this.data[n][m].y.label;
				label = this.barLabelPre + label + this.barLabelPost;

				var tokens = this.typeLib.tokenize(label);
				var length = this.typeLib.calculateLength(tokens, this.labelFont, this.labelFontScale, 1);

				var x = (this.data[n][m].x.value * horizConstant) + (length.lineHeight / 2) - 1;
				var y = Math.round(this.height - ((this.data[n][m].y.value - this.min) * this.scale.vert + length.totalWidth + 4 + this.paddingBottom));
				if(this.data[n][m].y.value <= 0) y = Math.round(this.scale.origin - length.totalWidth - 4);

				if(y < 0) continue;
				this.typeLib.addStringToCanvas(label, this.ctx, { x: x, y: y, font: this.labelFont, color: this.barLabelColor, scale: this.labelFontScale, angle: 270 });
			}
		}
	}

	return this;
};

TF.Graph.prototype.addDataSet = function(data, layout) {
	var xLabel = layout.xLabel || layout.x;
	var yLabel = layout.yLabel || layout.y;
	var color = layout.color || '#cc0000';

	if(this.type === 'pie') {
		color = layout.colors || ['#cc0000', '#c36000', '#8c8d9b', '#46495e', '#ff9900', '#666666'];
		this.graphOutline = layout.outline || '#000';
	}

	this.data.push([]);
	this.graphColor.push(color);
	this.enableData.push(true);
	var m = this.data.length - 1;
	for(var n = 0, len = data.length; n < len; n++) {
		this.data[m][n] = { x: {}, y: {}, color: null };
		this.data[m][n].x.value = parseFloat(data[n][layout.x]) || n;
		this.data[m][n].y.value = (data[n][layout.y] === null) ? null : parseFloat(data[n][layout.y]);
		this.data[m][n].x.label = data[n][xLabel] || n;
		this.data[m][n].y.label = data[n][yLabel];
		this.data[m][n].color = data[n]['Color'].replace(/^.* (#[0-9a-f]{6})/, '$1');
		if(this.yScale === 'log') {
			this.data[m][n].y.value = (this.data[m][n].y.value == 0) ? 0 : Math.log(this.data[m][n].y.value * 1.2) * Math.LOG10E;
		}
	}

	if(this.end === 0) this.end = this.data[m].length;

	if(this.type !== 'pie') {
		this.dataMarkers.push(document.createElement('div'));
		var len = this.dataMarkers.length - 1;
		this.hoverInfo.appendChild(this.dataMarkers[len]);
		YAHOO.util.Dom.setStyle(this.dataMarkers[len], 'display', 'none');
	}

	return m;
};

TF.Graph.prototype.updateHoverInfo = function(e) {
	if(isNaN(this.canvasPosition.x) || isNaN(this.canvasPosition.y)) {
		this.canvasPosition = {
			x: YAHOO.util.Dom.getX(this.canvas) - this.parentPosition.x,
			y: YAHOO.util.Dom.getY(this.canvas) - this.parentPosition.y
		};
	}
	var x = Math.round((e.clientX - this.canvasPosition.x - this.parentPosition.x - this.paddingLeft) / this.scale.horiz) + this.start;
	if(x >= this.data[0].length) {
		this.hideHoverInfo();
		return this;
	}

	// Fire the custom event.

	var inGraph = false;
	var args = [];
	if(x >= this.start)  {
		args.push(this.data[0][x].color);
		for(var n = 0, len = this.data.length; n < len; n++) {
			if(!this.enableData[n]) {
				continue;
			}
			args.push(this.data[n][x].y.label);
		}
		args.push(e.layerX);
		args.push(e.layerY);
	}

	// Fire the mousemove event only if position data exists.

	if(args.length > 0) {
		this.mousemove.fire(args);
	}
};
